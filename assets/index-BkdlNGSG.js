(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function k1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dm={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function L1(){if(Wv)return Ul;Wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var Zv;function U1(){return Zv||(Zv=1,Dm.exports=L1()),Dm.exports}var ae=U1(),Om={exports:{}},zl={},Nm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function z1(){return Jv||(Jv=1,function(r){function e(Y,oe){var me=Y.length;Y.push(oe);e:for(;0<me;){var Be=me-1>>>1,O=Y[Be];if(0<o(O,oe))Y[Be]=oe,Y[me]=O,me=Be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var oe=Y[0],me=Y.pop();if(me!==oe){Y[0]=me;e:for(var Be=0,O=Y.length,te=O>>>1;Be<te;){var le=2*(Be+1)-1,ie=Y[le],ye=le+1,Ie=Y[ye];if(0>o(ie,me))ye<O&&0>o(Ie,ie)?(Y[Be]=Ie,Y[ye]=me,Be=ye):(Y[Be]=ie,Y[le]=me,Be=le);else if(ye<O&&0>o(Ie,me))Y[Be]=Ie,Y[ye]=me,Be=ye;else break e}}return oe}function o(Y,oe){var me=Y.sortIndex-oe.sortIndex;return me!==0?me:Y.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,w=3,x=!1,U=!1,Q=!1,j=!1,G=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ue(Y){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Y)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function ne(Y){if(Q=!1,ue(Y),!U)if(n(p)!==null)U=!0,ge||(ge=!0,k());else{var oe=n(g);oe!==null&&ot(ne,oe.startTime-Y)}}var ge=!1,D=-1,b=5,R=-1;function M(){return j?!0:!(r.unstable_now()-R<b)}function V(){if(j=!1,ge){var Y=r.unstable_now();R=Y;var oe=!0;try{e:{U=!1,Q&&(Q=!1,re(D),D=-1),x=!0;var me=w;try{t:{for(ue(Y),A=n(p);A!==null&&!(A.expirationTime>Y&&M());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,w=A.priorityLevel;var O=Be(A.expirationTime<=Y);if(Y=r.unstable_now(),typeof O=="function"){A.callback=O,ue(Y),oe=!0;break t}A===n(p)&&s(p),ue(Y)}else s(p);A=n(p)}if(A!==null)oe=!0;else{var te=n(g);te!==null&&ot(ne,te.startTime-Y),oe=!1}}break e}finally{A=null,w=me,x=!1}oe=void 0}}finally{oe?k():ge=!1}}}var k;if(typeof $=="function")k=function(){$(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Lt=I.port2;I.port1.onmessage=V,k=function(){Lt.postMessage(null)}}else k=function(){G(V,0)};function ot(Y,oe){D=G(function(){Y(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var me=w;w=oe;try{return Y()}finally{w=me}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=w;w=Y;try{return oe()}finally{w=me}},r.unstable_scheduleCallback=function(Y,oe,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,Y={id:E++,callback:oe,priorityLevel:Y,startTime:me,expirationTime:O,sortIndex:-1},me>Be?(Y.sortIndex=me,e(g,Y),n(p)===null&&Y===n(g)&&(Q?(re(D),D=-1):Q=!0,ot(ne,me-Be))):(Y.sortIndex=O,e(p,Y),U||x||(U=!0,ge||(ge=!0,k()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var oe=w;return function(){var me=w;w=oe;try{return Y.apply(this,arguments)}finally{w=me}}}}(Mm)),Mm}var eE;function B1(){return eE||(eE=1,Nm.exports=z1()),Nm.exports}var Vm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function j1(){if(tE)return Re;tE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Q={};function j(O,te,le){this.props=O,this.context=te,this.refs=Q,this.updater=le||x}j.prototype.isReactComponent={},j.prototype.setState=function(O,te){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,te,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=j.prototype;function re(O,te,le){this.props=O,this.context=te,this.refs=Q,this.updater=le||x}var $=re.prototype=new G;$.constructor=re,U($,j.prototype),$.isPureReactComponent=!0;var ue=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function D(O,te,le,ie,ye,Ie){return le=Ie.ref,{$$typeof:r,type:O,key:te,ref:le!==void 0?le:null,props:Ie}}function b(O,te){return D(O.type,te,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var te={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return te[le]})}var V=/\/+/g;function k(O,te){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):te.toString(36)}function I(){}function Lt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(te){O.status==="pending"&&(O.status="fulfilled",O.value=te)},function(te){O.status==="pending"&&(O.status="rejected",O.reason=te)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ot(O,te,le,ie,ye){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(Ie){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=O._init,ot(Ae(O._payload),te,le,ie,ye)}}if(Ae)return ye=ye(O),Ae=ie===""?"."+k(O,0):ie,ue(ye)?(le="",Ae!=null&&(le=Ae.replace(V,"$&/")+"/"),ot(ye,te,le,"",function(Yn){return Yn})):ye!=null&&(R(ye)&&(ye=b(ye,le+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+Ae)),te.push(ye)),1;Ae=0;var Dt=ie===""?".":ie+":";if(ue(O))for(var Ze=0;Ze<O.length;Ze++)ie=O[Ze],Ie=Dt+k(ie,Ze),Ae+=ot(ie,te,le,Ie,ye);else if(Ze=w(O),typeof Ze=="function")for(O=Ze.call(O),Ze=0;!(ie=O.next()).done;)ie=ie.value,Ie=Dt+k(ie,Ze++),Ae+=ot(ie,te,le,Ie,ye);else if(Ie==="object"){if(typeof O.then=="function")return ot(Lt(O),te,le,ie,ye);throw te=String(O),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(O,te,le){if(O==null)return O;var ie=[],ye=0;return ot(O,ie,"","",function(Ie){return te.call(le,Ie,ye++)}),ie}function oe(O){if(O._status===-1){var te=O._result;te=te(),te.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=te)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Be(){}return Re.Children={map:Y,forEach:function(O,te,le){Y(O,function(){te.apply(this,arguments)},le)},count:function(O){var te=0;return Y(O,function(){te++}),te},toArray:function(O){return Y(O,function(te){return te})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=j,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ne.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,te,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=U({},O.props),ye=O.key,Ie=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(ye=""+te.key),te)!ge.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ie[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=le;else if(1<Ae){for(var Dt=Array(Ae),Ze=0;Ze<Ae;Ze++)Dt[Ze]=arguments[Ze+2];ie.children=Dt}return D(O.type,ye,void 0,void 0,Ie,ie)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,te,le){var ie,ye={},Ie=null;if(te!=null)for(ie in te.key!==void 0&&(Ie=""+te.key),te)ge.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=te[ie]);var Ae=arguments.length-2;if(Ae===1)ye.children=le;else if(1<Ae){for(var Dt=Array(Ae),Ze=0;Ze<Ae;Ze++)Dt[Ze]=arguments[Ze+2];ye.children=Dt}if(O&&O.defaultProps)for(ie in Ae=O.defaultProps,Ae)ye[ie]===void 0&&(ye[ie]=Ae[ie]);return D(O,Ie,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=R,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:oe}},Re.memo=function(O,te){return{$$typeof:g,type:O,compare:te===void 0?null:te}},Re.startTransition=function(O){var te=ne.T,le={};ne.T=le;try{var ie=O(),ye=ne.S;ye!==null&&ye(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Be,me)}catch(Ie){me(Ie)}finally{ne.T=te}},Re.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Re.use=function(O){return ne.H.use(O)},Re.useActionState=function(O,te,le){return ne.H.useActionState(O,te,le)},Re.useCallback=function(O,te){return ne.H.useCallback(O,te)},Re.useContext=function(O){return ne.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,te){return ne.H.useDeferredValue(O,te)},Re.useEffect=function(O,te,le){var ie=ne.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(O,te)},Re.useId=function(){return ne.H.useId()},Re.useImperativeHandle=function(O,te,le){return ne.H.useImperativeHandle(O,te,le)},Re.useInsertionEffect=function(O,te){return ne.H.useInsertionEffect(O,te)},Re.useLayoutEffect=function(O,te){return ne.H.useLayoutEffect(O,te)},Re.useMemo=function(O,te){return ne.H.useMemo(O,te)},Re.useOptimistic=function(O,te){return ne.H.useOptimistic(O,te)},Re.useReducer=function(O,te,le){return ne.H.useReducer(O,te,le)},Re.useRef=function(O){return ne.H.useRef(O)},Re.useState=function(O){return ne.H.useState(O)},Re.useSyncExternalStore=function(O,te,le){return ne.H.useSyncExternalStore(O,te,le)},Re.useTransition=function(){return ne.H.useTransition()},Re.version="19.1.0",Re}var nE;function Wh(){return nE||(nE=1,Vm.exports=j1()),Vm.exports}var xm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function q1(){if(rE)return Xt;rE=1;var r=Wh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var iE;function H1(){if(iE)return xm.exports;iE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xm.exports=q1(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function F1(){if(sE)return zl;sE=1;var r=B1(),e=Wh(),n=H1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case j:return"Profiler";case Q:return"StrictMode";case ne:return"Suspense";case ge:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case $:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Lt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Lt(t(i))}catch{}}return null}var ot=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],O=-1;function te(t){return{current:t}}function le(t){0>O||(t.current=Be[O],Be[O]=null,O--)}function ie(t,i){O++,Be[O]=t.current,t.current=i}var ye=te(null),Ie=te(null),Ae=te(null),Dt=te(null);function Ze(t,i){switch(ie(Ae,i),ie(Ie,t),ie(ye,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?bv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=bv(i),t=Rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ye),ie(ye,t)}function Yn(){le(ye),le(Ie),le(Ae)}function ai(t){t.memoizedState!==null&&ie(Dt,t);var i=ye.current,a=Rv(i,t.type);i!==a&&(ie(Ie,t),ie(ye,a))}function Tr(t){Ie.current===t&&(le(ye),le(Ie)),Dt.current===t&&(le(Dt),Vl._currentValue=me)}var ss=Object.prototype.hasOwnProperty,as=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,Oo=r.unstable_shouldYield,Du=r.unstable_requestPaint,Sn=r.unstable_now,Df=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,oa=r.unstable_UserBlockingPriority,ls=r.unstable_NormalPriority,Of=r.unstable_LowPriority,la=r.unstable_IdlePriority,Mo=r.log,Ou=r.unstable_setDisableYieldValue,lt=null,Fe=null;function cn(t){if(typeof Mo=="function"&&Ou(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var Qt=Math.clz32?Math.clz32:us,Nu=Math.log,Nf=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(Nu(t)/Nf|0)|0}var cs=256,hs=4194304;function Ln(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ua(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Ln(l):(v&=T,v!==0?h=Ln(v):a||(a=T&~t,a!==0&&(h=Ln(a))))):(T=l&~d,T!==0?h=Ln(T):v!==0?h=Ln(v):a||(a=l&~t,a!==0&&(h=Ln(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function fs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Vo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=cs;return cs<<=1,(cs&4194048)===0&&(cs=256),t}function Po(){var t=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),t}function Sr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ar(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ko(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Qt(a),J=1<<X;T[X]=0,C[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Xn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Xn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Lo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ca(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function li(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Gv(t.type))}function Mu(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var nt=Math.random().toString(36).slice(2),St="__reactFiber$"+nt,pt="__reactProps$"+nt,An="__reactContainer$"+nt,Uo="__reactEvents$"+nt,Mf="__reactListeners$"+nt,ui="__reactHandles$"+nt,Vu="__reactResources$"+nt,ds="__reactMarker$"+nt;function ci(t){delete t[St],delete t[pt],delete t[Uo],delete t[Mf],delete t[ui]}function wr(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[An]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Ov(t);t!==null;){if(a=t[St])return a;t=Ov(t)}return i}t=a,a=t.parentNode}return null}function $n(t){if(t=t[St]||t[An]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Wn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function en(t){var i=t[Vu];return i||(i=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[ds]=!0}var zo=new Set,ha={};function Un(t,i){br(t,i),br(t+"Capture",i)}function br(t,i){for(ha[t]=i,t=0;t<i.length;t++)zo.add(i[t])}var xu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},ms={};function ku(t){return ss.call(ms,t)?!0:ss.call(Pu,t)?!1:xu.test(t)?ms[t]=!0:(Pu[t]=!0,!1)}function hi(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Zn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ut(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ps,Lu;function Rr(t){if(ps===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ps=i&&i[1]||"",Lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+Lu}var fa=!1;function da(t,i){if(!t||fa)return"";fa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var q=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){q=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){q=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),B=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{fa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rr(a):""}function Bo(t){switch(t.tag){case 26:case 27:case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 15:return da(t.type,!1);case 11:return da(t.type.render,!1);case 1:return da(t.type,!0);case 31:return Rr("Activity");default:return""}}function ma(t){try{var i="";do i+=Bo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vf(t){var i=jo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function pa(t){t._valueTracker||(t._valueTracker=Vf(t))}function qo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=jo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xf=/[\n"\\]/g;function gt(t){return t.replace(xf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?fi(t,v,tn(i)):a!=null?fi(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function ys(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function fi(t,i,a){i==="number"&&gs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Cr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function _s(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||vs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Uu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uu(t,d,i[d])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return kf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ir=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,Or=null;function Go(t){var i=$n(t);if(i&&(t=i.stateNode)){var a=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(hn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(s(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&qo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Cr(t,!!a.multiple,i,!1)}}}var Jn=!1;function zu(t,i,a){if(Jn)return t(i,a);Jn=!0;try{var l=t(i);return l}finally{if(Jn=!1,(Dr!==null||Or!==null)&&(Mc(),Dr&&(i=Dr,t=Or,Or=Dr=null,Go(i),t)))for(i=0;i<t.length;i++)Go(t[i])}}function Es(t,i){var a=t.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(zn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Rn=!1}var er=null,di=null,Nr=null;function Ko(){if(Nr)return Nr;var t,i=di,a=i.length,l,h="value"in er?er.value:er.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Nr=h.slice(t,1<l?1-l:void 0)}function tr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function nr(){return!0}function Qo(){return!1}function Ot(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:Qo,this.isPropagationStopped=Qo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Ot(qe),Ss=E({},qe,{view:0,detail:0}),Bu=Ot(Ss),_a,va,rr,As=E({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rr&&(rr&&t.type==="mousemove"?(_a=t.screenX-rr.screenX,va=t.screenY-rr.screenY):va=_a=0,rr=t),_a)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Cn=Ot(As),ju=E({},As,{dataTransfer:0}),Lf=Ot(ju),ws=E({},Ss,{relatedTarget:0}),Ea=Ot(ws),Yo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=Ot(Yo),qu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sa=Ot(qu),Uf=E({},qe,{data:0}),Xo=Ot(Uf),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fu[t])?!!i[t]:!1}function Rs(){return $o}var Gu=E({},Ss,{key:function(t){if(t.key){var i=bs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=Ot(Gu),Ku=E({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Ot(Ku),Mr=E({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Qu=Ot(Mr),Yu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=Ot(Yu),$u=E({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=Ot($u),nn=E({},qe,{newState:0,oldState:0}),Wu=Ot(nn),Zu=[9,13,27,32],ir=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var y=zn&&"TextEvent"in window&&!c,_=zn&&(!ir||c&&8<c&&11>=c),S=" ",L=!1;function F(t,i){switch(t){case"keyup":return Zu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function At(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(L=!0,S);case"textInput":return t=i.data,t===S&&L?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!ir&&F(t,i)?(t=Ko(),Nr=di=er=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Nt[t.type]:i==="textarea"}function Vr(t,i,a,l){Dr?Or?Or.push(l):Or=[l]:Dr=l,i=Uc(i,"onChange"),0<i.length&&(a=new ya("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,sr=null;function Zo(t){Ev(t,0)}function Ju(t){var i=Wn(t);if(qo(i))return t}function jg(t,i){if(t==="change")return i}var qg=!1;if(zn){var zf;if(zn){var Bf="oninput"in document;if(!Bf){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Bf=typeof Hg.oninput=="function"}zf=Bf}else zf=!1;qg=zf&&(!document.documentMode||9<document.documentMode)}function Fg(){zt&&(zt.detachEvent("onpropertychange",Gg),sr=zt=null)}function Gg(t){if(t.propertyName==="value"&&Ju(sr)){var i=[];Vr(i,sr,t,bn(t)),zu(Zo,i)}}function fw(t,i,a){t==="focusin"?(Fg(),zt=i,sr=a,zt.attachEvent("onpropertychange",Gg)):t==="focusout"&&Fg()}function dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(sr)}function mw(t,i){if(t==="click")return Ju(i)}function pw(t,i){if(t==="input"||t==="change")return Ju(i)}function gw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var fn=typeof Object.is=="function"?Object.is:gw;function Jo(t,i){if(fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ss.call(i,h)||!fn(t[h],i[h]))return!1}return!0}function Kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qg(t,i){var a=Kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Yg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Yg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gs(t.document)}return i}function jf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yw=zn&&"documentMode"in document&&11>=document.documentMode,ba=null,qf=null,el=null,Hf=!1;function $g(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||ba==null||ba!==gs(l)||(l=ba,"selectionStart"in l&&jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Jo(el,l)||(el=l,l=Uc(qf,"onSelect"),0<l.length&&(i=new ya("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ba)))}function Cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Ff={},Wg={};zn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Is(t){if(Ff[t])return Ff[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Wg)return Ff[t]=i[a];return t}var Zg=Is("animationend"),Jg=Is("animationiteration"),ey=Is("animationstart"),_w=Is("transitionrun"),vw=Is("transitionstart"),Ew=Is("transitioncancel"),ty=Is("transitionend"),ny=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function Bn(t,i){ny.set(t,i),Un(i,[t])}var ry=new WeakMap;function In(t,i){if(typeof t=="object"&&t!==null){var a=ry.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ma(i)},ry.set(t,i),i)}return{value:t,source:i,stack:ma(i)}}var Dn=[],Ca=0,Kf=0;function ec(){for(var t=Ca,i=Kf=Ca=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&iy(a,h,d)}}function tc(t,i,a,l){Dn[Ca++]=t,Dn[Ca++]=i,Dn[Ca++]=a,Dn[Ca++]=l,Kf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qf(t,i,a,l){return tc(t,i,a,l),nc(t)}function Ia(t,i){return tc(t,null,null,i),nc(t)}function iy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function nc(t){if(50<bl)throw bl=0,Jd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function Tw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,i,a,l){return new Tw(t,i,a,l)}function Yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xr(t,i){var a=t.alternate;return a===null?(a=dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Yf(t)&&(v=1);else if(typeof t=="string")v=A1(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=dn(31,a,i,h),t.elementType=R,t.lanes=d,t;case U:return Ds(a.children,h,d,i);case Q:v=8,h|=24;break;case j:return t=dn(12,a,i,h|2),t.elementType=j,t.lanes=d,t;case ne:return t=dn(13,a,i,h),t.elementType=ne,t.lanes=d,t;case ge:return t=dn(19,a,i,h),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case $:v=10;break e;case re:v=9;break e;case ue:v=11;break e;case D:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=dn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ds(t,i,a,l){return t=dn(7,t,l,i),t.lanes=a,t}function Xf(t,i,a){return t=dn(6,t,null,i),t.lanes=a,t}function $f(t,i,a){return i=dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Oa=[],Na=0,ic=null,sc=0,On=[],Nn=0,Os=null,Pr=1,kr="";function Ns(t,i){Oa[Na++]=sc,Oa[Na++]=ic,ic=t,sc=i}function ay(t,i,a){On[Nn++]=Pr,On[Nn++]=kr,On[Nn++]=Os,Os=t;var l=Pr;t=kr;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pr=1<<32-Qt(i)+h|a<<h|l,kr=d+t}else Pr=1<<d|a<<h|l,kr=t}function Wf(t){t.return!==null&&(Ns(t,1),ay(t,1,0))}function Zf(t){for(;t===ic;)ic=Oa[--Na],Oa[Na]=null,sc=Oa[--Na],Oa[Na]=null;for(;t===Os;)Os=On[--Nn],On[Nn]=null,kr=On[--Nn],On[Nn]=null,Pr=On[--Nn],On[Nn]=null}var rn=null,ut=null,je=!1,Ms=null,ar=!1,Jf=Error(s(519));function Vs(t){var i=Error(s(418,""));throw rl(In(i,t)),Jf}function oy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[pt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Ne(Cl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),ys(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pa(i);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),_s(i,l.value,l.defaultValue,l.children),pa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||wv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=zc),i=!0):i=!1,i||Vs(t)}function ly(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:rn=rn.return}}function tl(t){if(t!==rn)return!1;if(!je)return ly(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pm(t.type,t.memoizedProps)),a=!a),a&&ut&&Vs(t),ly(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=qn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Di(t.type)?(t=vm,vm=null,ut=t):ut=i):ut=rn?qn(t.stateNode.nextSibling):null;return!0}function nl(){ut=rn=null,je=!1}function uy(){var t=Ms;return t!==null&&(on===null?on=t:on.push.apply(on,t),Ms=null),t}function rl(t){Ms===null?Ms=[t]:Ms.push(t)}var ed=te(null),xs=null,Lr=null;function mi(t,i,a){ie(ed,i._currentValue),i._currentValue=a}function Ur(t){t._currentValue=ed.current,le(ed)}function td(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function nd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),td(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),td(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function il(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;fn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Dt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}h=h.return}t!==null&&nd(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ps(t){xs=t,Lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return cy(xs,t)}function oc(t,i){return xs===null&&Ps(t),cy(t,i)}function cy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Lr===null){if(t===null)throw Error(s(308));Lr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Lr=Lr.next=i;return a}var Sw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Aw=r.unstable_scheduleCallback,ww=r.unstable_NormalPriority,bt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new Sw,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&Aw(ww,function(){t.controller.abort()})}var al=null,id=0,Ma=0,Va=null;function bw(t,i){if(al===null){var a=al=[];id=0,Ma=am(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return id++,i.then(hy,hy),i}function hy(){if(--id===0&&al!==null){Va!==null&&(Va.status="fulfilled");var t=al;al=null,Ma=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Rw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fy=Y.S;Y.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&bw(t,i),fy!==null&&fy(t,i)};var ks=te(null);function sd(){var t=ks.current;return t!==null?t:Je.pooledCache}function lc(t,i){i===null?ie(ks,ks.current):ie(ks,i.pool)}function dy(){var t=sd();return t===null?null:{parent:bt._currentValue,pool:t}}var ol=Error(s(460)),my=Error(s(474)),uc=Error(s(542)),ad={then:function(){}};function py(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cc(){}function gy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(cc,cc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,_y(t),t;default:if(typeof i.status=="string")i.then(cc,cc);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,_y(t),t}throw ll=i,ol}}var ll=null;function yy(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function _y(t){if(t===ol||t===uc)throw Error(s(483))}var pi=!1;function od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=nc(t),iy(t,null,a),i}return tc(t,l,i,a),nc(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}function ud(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var cd=!1;function cl(){if(cd){var t=Va;if(t!==null)throw t}}function hl(t,i,a,l){cd=!1;var h=t.updateQueue;pi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,B=C.next;C.next=null,v===null?d=B:v.next=B,v=C;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;v=0,X=B=C=null,T=d;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Le&q)===q:(l&q)===q){q!==0&&q===Ma&&(cd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,_e=T;q=i;var $e=a;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){J=Se.call($e,J,q);break e}J=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,q=typeof Se=="function"?Se.call($e,J,q):Se,q==null)break e;J=E({},J,q);break e;case 2:pi=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=H,C=J):X=X.next=H,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(C=J),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),bi|=v,t.lanes=v,t.memoizedState=J}}function vy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ey(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vy(a[t],i)}var xa=te(null),hc=te(0);function Ty(t,i){t=Gr,ie(hc,t),ie(xa,i),Gr=t|i.baseLanes}function hd(){ie(hc,Gr),ie(xa,xa.current)}function fd(){Gr=hc.current,le(xa),le(hc)}var _i=0,Ce=null,Ye=null,yt=null,fc=!1,Pa=!1,Ls=!1,dc=0,fl=0,ka=null,Cw=0;function ft(){throw Error(s(321))}function dd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!fn(t[a],i[a]))return!1;return!0}function md(t,i,a,l,h,d){return _i=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?i_:s_,Ls=!1,d=a(l,h),Ls=!1,Pa&&(d=Ay(i,a,l,h)),Sy(t),d}function Sy(t){Y.H=vc;var i=Ye!==null&&Ye.next!==null;if(_i=0,yt=Ye=Ce=null,fc=!1,fl=0,ka=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&ac(t)&&(Mt=!0))}function Ay(t,i,a,l){Ce=t;var h=0;do{if(Pa&&(ka=null),fl=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=xw,d=i(a,l)}while(Pa);return d}function Iw(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ce.flags|=1024),i}function pd(){var t=dc!==0;return dc=0,t}function gd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function yd(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}_i=0,yt=Ye=Ce=null,Pa=!1,fl=dc=0,ka=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ce.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Ye===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=yt===null?Ce.memoizedState:yt.next;if(i!==null)yt=i,Ye=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Ce.memoizedState=yt=t:yt=yt.next=t}return yt}function _d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,ka===null&&(ka=[]),t=gy(ka,t,i),i=Ce,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?i_:s_),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===$)return Yt(t)}throw Error(s(438,String(t)))}function vd(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_d(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function zr(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=_t();return Ed(i,Ye,t)}function Ed(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,C=null,B=i,X=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Le&J)===J:(_i&J)===J){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Ma&&(X=!0);else if((_i&q)===q){B=B.next,q===Ma&&(X=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=J,v=d):C=C.next=J,Ce.lanes|=q,bi|=q;J=B.action,Ls&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else q={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=q,v=d):C=C.next=q,Ce.lanes|=J,bi|=J;B=B.next}while(B!==null&&B!==i);if(C===null?v=d:C.next=T,!fn(d,t.memoizedState)&&(Mt=!0,X&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Td(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);fn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function wy(t,i,a){var l=Ce,h=_t(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!fn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Mt=!0),h=h.queue;var T=Cy.bind(null,l,h,t);if(ml(2048,8,T,[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,La(9,gc(),Ry.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(_i&124)!==0||by(l,i,a)}return a}function by(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=_d(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ry(t,i,a,l){i.value=a,i.getSnapshot=l,Iy(i)&&Dy(t)}function Cy(t,i,a){return a(function(){Iy(i)&&Dy(t)})}function Iy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!fn(t,a)}catch{return!0}}function Dy(t){var i=Ia(t,2);i!==null&&_n(i,t,2)}function Sd(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ls){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:t},i}function Oy(t,i,a,l){return t.baseState=a,Ed(t,Ye,typeof l=="function"?l:zr)}function Dw(t,i,a,l,h){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ny(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ny(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),C=Y.S;C!==null&&C(v,T),My(t,i,T)}catch(B){Ad(t,i,B)}finally{Y.T=d}}else try{d=a(h,l),My(t,i,d)}catch(B){Ad(t,i,B)}}function My(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vy(t,i,l)},function(l){return Ad(t,i,l)}):Vy(t,i,a)}function Vy(t,i,a){i.status="fulfilled",i.value=a,xy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ny(t,a)))}function Ad(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,xy(i),i=i.next;while(i!==l)}t.action=null}function xy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Py(t,i){return i}function ky(t,i){if(je){var a=Je.formState;if(a!==null){e:{var l=Ce;if(je){if(ut){t:{for(var h=ut,d=ar;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=qn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:i},a.queue=l,a=t_.bind(null,Ce,l),l.dispatch=a,l=Sd(!1),d=Id.bind(null,Ce,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Dw.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ly(t){var i=_t();return Uy(i,Ye,t)}function Uy(t,i,a){if(i=Ed(t,i,Py)[0],t=pc(zr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(v){throw v===ol?uc:v}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,La(9,gc(),Ow.bind(null,h,a),null)),[l,d,t]}function Ow(t,i){t.action=i}function zy(t){var i=_t(),a=Ye;if(a!==null)return Uy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=_d(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function gc(){return{destroy:void 0,resource:void 0}}function By(){return _t().memoizedState}function yc(t,i,a,l){var h=sn();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=La(1|i,gc(),a,l)}function ml(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&dd(l,Ye.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(Ce.flags|=t,h.memoizedState=La(1|i,d,a,l))}function jy(t,i){yc(8390656,8,t,i)}function qy(t,i){ml(2048,8,t,i)}function Hy(t,i){return ml(4,2,t,i)}function Fy(t,i){return ml(4,4,t,i)}function Gy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ky(t,i,a){a=a!=null?a.concat([t]):null,ml(4,4,Gy.bind(null,i,t),a)}function wd(){}function Qy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&dd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Yy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&dd(i,l[1]))return l[0];if(l=t(),Ls){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function bd(t,i,a){return a===void 0||(_i&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=W_(),Ce.lanes|=t,bi|=t,a)}function Xy(t,i,a,l){return fn(a,i)?a:xa.current!==null?(t=bd(t,a,l),fn(t,i)||(Mt=!0),t):(_i&42)===0?(Mt=!0,t.memoizedState=a):(t=W_(),Ce.lanes|=t,bi|=t,i)}function $y(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,Id(t,!1,i,a);try{var C=h(),B=Y.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=Rw(C,l);pl(t,i,X,yn(t))}else pl(t,i,l,yn(t))}catch(J){pl(t,i,{then:function(){},status:"rejected",reason:J},yn())}finally{oe.p=d,Y.T=v}}function Nw(){}function Rd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Wy(t).queue;$y(t,h,i,me,a===null?Nw:function(){return Zy(t),a(l)})}function Wy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Zy(t){var i=Wy(t).next.queue;pl(t,i,{},yn())}function Cd(){return Yt(Vl)}function Jy(){return _t().memoizedState}function e_(){return _t().memoizedState}function Mw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();t=gi(a);var l=yi(i,t,a);l!==null&&(_n(l,i,a),ul(l,i,a)),i={cache:rd()},t.payload=i;return}i=i.return}}function Vw(t,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?n_(i,a):(a=Qf(t,i,a,l),a!==null&&(_n(a,t,l),r_(a,i,l)))}function t_(t,i,a){var l=yn();pl(t,i,a,l)}function pl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))n_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,v))return tc(t,i,h,0),Je===null&&ec(),!1}catch{}finally{}if(a=Qf(t,i,h,l),a!==null)return _n(a,t,l),r_(a,i,l),!0}return!1}function Id(t,i,a,l){if(l={lane:2,revertLane:am(),action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=Qf(t,a,l,2),i!==null&&_n(i,t,2)}function _c(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function n_(t,i){Pa=fc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function r_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}var vc={readContext:Yt,use:mc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},i_={readContext:Yt,use:mc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:jy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,Gy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Ls){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Ls){cn(!0);try{a(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Vw.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Sd(t);var i=t.queue,a=t_.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:wd,useDeferredValue:function(t,i){var a=sn();return bd(a,t,i)},useTransition:function(){var t=Sd(!1);return t=$y.bind(null,Ce,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=sn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Le&124)!==0||by(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,jy(Cy.bind(null,l,d,t),[t]),l.flags|=2048,La(9,gc(),Ry.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=Je.identifierPrefix;if(je){var a=kr,l=Pr;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Cw++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Cd,useFormState:ky,useActionState:ky,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Id.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:vd,useCacheRefresh:function(){return sn().memoizedState=Mw.bind(null,Ce)}},s_={readContext:Yt,use:mc,useCallback:Qy,useContext:Yt,useEffect:qy,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:Yy,useReducer:pc,useRef:By,useState:function(){return pc(zr)},useDebugValue:wd,useDeferredValue:function(t,i){var a=_t();return Xy(a,Ye.memoizedState,t,i)},useTransition:function(){var t=pc(zr)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:wy,useId:Jy,useHostTransitionStatus:Cd,useFormState:Ly,useActionState:Ly,useOptimistic:function(t,i){var a=_t();return Oy(a,Ye,t,i)},useMemoCache:vd,useCacheRefresh:e_},xw={readContext:Yt,use:mc,useCallback:Qy,useContext:Yt,useEffect:qy,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:Yy,useReducer:Td,useRef:By,useState:function(){return Td(zr)},useDebugValue:wd,useDeferredValue:function(t,i){var a=_t();return Ye===null?bd(a,t,i):Xy(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Td(zr)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:wy,useId:Jy,useHostTransitionStatus:Cd,useFormState:zy,useActionState:zy,useOptimistic:function(t,i){var a=_t();return Ye!==null?Oy(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vd,useCacheRefresh:e_},Ua=null,gl=0;function Ec(t){var i=gl;return gl+=1,Ua===null&&(Ua=[]),gy(Ua,t,i)}function yl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Tc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function a_(t){var i=t._init;return i(t._payload)}function o_(t){function i(P,N){if(t){var z=P.deletions;z===null?(P.deletions=[N],P.flags|=16):z.push(N)}}function a(P,N){if(!t)return null;for(;N!==null;)i(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=xr(P,N),P.index=0,P.sibling=null,P}function d(P,N,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<N?(P.flags|=67108866,N):z):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,N,z,W){return N===null||N.tag!==6?(N=Xf(z,P.mode,W),N.return=P,N):(N=h(N,z),N.return=P,N)}function C(P,N,z,W){var fe=z.type;return fe===U?X(P,N,z.props.children,W,z.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&a_(fe)===N.type)?(N=h(N,z.props),yl(N,z),N.return=P,N):(N=rc(z.type,z.key,z.props,null,P.mode,W),yl(N,z),N.return=P,N)}function B(P,N,z,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=$f(z,P.mode,W),N.return=P,N):(N=h(N,z.children||[]),N.return=P,N)}function X(P,N,z,W,fe){return N===null||N.tag!==7?(N=Ds(z,P.mode,W,fe),N.return=P,N):(N=h(N,z),N.return=P,N)}function J(P,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Xf(""+N,P.mode,z),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return z=rc(N.type,N.key,N.props,null,P.mode,z),yl(z,N),z.return=P,z;case x:return N=$f(N,P.mode,z),N.return=P,N;case b:var W=N._init;return N=W(N._payload),J(P,N,z)}if(ot(N)||k(N))return N=Ds(N,P.mode,z,null),N.return=P,N;if(typeof N.then=="function")return J(P,Ec(N),z);if(N.$$typeof===$)return J(P,oc(P,N),z);Tc(P,N)}return null}function q(P,N,z,W){var fe=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:T(P,N,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===fe?C(P,N,z,W):null;case x:return z.key===fe?B(P,N,z,W):null;case b:return fe=z._init,z=fe(z._payload),q(P,N,z,W)}if(ot(z)||k(z))return fe!==null?null:X(P,N,z,W,null);if(typeof z.then=="function")return q(P,N,Ec(z),W);if(z.$$typeof===$)return q(P,N,oc(P,z),W);Tc(P,z)}return null}function H(P,N,z,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(z)||null,T(N,P,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return P=P.get(W.key===null?z:W.key)||null,C(N,P,W,fe);case x:return P=P.get(W.key===null?z:W.key)||null,B(N,P,W,fe);case b:var De=W._init;return W=De(W._payload),H(P,N,z,W,fe)}if(ot(W)||k(W))return P=P.get(z)||null,X(N,P,W,fe,null);if(typeof W.then=="function")return H(P,N,z,Ec(W),fe);if(W.$$typeof===$)return H(P,N,z,oc(N,W),fe);Tc(N,W)}return null}function Se(P,N,z,W){for(var fe=null,De=null,de=N,ve=N=0,xt=null;de!==null&&ve<z.length;ve++){de.index>ve?(xt=de,de=null):xt=de.sibling;var ze=q(P,de,z[ve],W);if(ze===null){de===null&&(de=xt);break}t&&de&&ze.alternate===null&&i(P,de),N=d(ze,N,ve),De===null?fe=ze:De.sibling=ze,De=ze,de=xt}if(ve===z.length)return a(P,de),je&&Ns(P,ve),fe;if(de===null){for(;ve<z.length;ve++)de=J(P,z[ve],W),de!==null&&(N=d(de,N,ve),De===null?fe=de:De.sibling=de,De=de);return je&&Ns(P,ve),fe}for(de=l(de);ve<z.length;ve++)xt=H(de,P,ve,z[ve],W),xt!==null&&(t&&xt.alternate!==null&&de.delete(xt.key===null?ve:xt.key),N=d(xt,N,ve),De===null?fe=xt:De.sibling=xt,De=xt);return t&&de.forEach(function(xi){return i(P,xi)}),je&&Ns(P,ve),fe}function _e(P,N,z,W){if(z==null)throw Error(s(151));for(var fe=null,De=null,de=N,ve=N=0,xt=null,ze=z.next();de!==null&&!ze.done;ve++,ze=z.next()){de.index>ve?(xt=de,de=null):xt=de.sibling;var xi=q(P,de,ze.value,W);if(xi===null){de===null&&(de=xt);break}t&&de&&xi.alternate===null&&i(P,de),N=d(xi,N,ve),De===null?fe=xi:De.sibling=xi,De=xi,de=xt}if(ze.done)return a(P,de),je&&Ns(P,ve),fe;if(de===null){for(;!ze.done;ve++,ze=z.next())ze=J(P,ze.value,W),ze!==null&&(N=d(ze,N,ve),De===null?fe=ze:De.sibling=ze,De=ze);return je&&Ns(P,ve),fe}for(de=l(de);!ze.done;ve++,ze=z.next())ze=H(de,P,ve,ze.value,W),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?ve:ze.key),N=d(ze,N,ve),De===null?fe=ze:De.sibling=ze,De=ze);return t&&de.forEach(function(P1){return i(P,P1)}),je&&Ns(P,ve),fe}function $e(P,N,z,W){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var fe=z.key;N!==null;){if(N.key===fe){if(fe=z.type,fe===U){if(N.tag===7){a(P,N.sibling),W=h(N,z.props.children),W.return=P,P=W;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&a_(fe)===N.type){a(P,N.sibling),W=h(N,z.props),yl(W,z),W.return=P,P=W;break e}a(P,N);break}else i(P,N);N=N.sibling}z.type===U?(W=Ds(z.props.children,P.mode,W,z.key),W.return=P,P=W):(W=rc(z.type,z.key,z.props,null,P.mode,W),yl(W,z),W.return=P,P=W)}return v(P);case x:e:{for(fe=z.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(P,N.sibling),W=h(N,z.children||[]),W.return=P,P=W;break e}else{a(P,N);break}else i(P,N);N=N.sibling}W=$f(z,P.mode,W),W.return=P,P=W}return v(P);case b:return fe=z._init,z=fe(z._payload),$e(P,N,z,W)}if(ot(z))return Se(P,N,z,W);if(k(z)){if(fe=k(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),_e(P,N,z,W)}if(typeof z.then=="function")return $e(P,N,Ec(z),W);if(z.$$typeof===$)return $e(P,N,oc(P,z),W);Tc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(P,N.sibling),W=h(N,z),W.return=P,P=W):(a(P,N),W=Xf(z,P.mode,W),W.return=P,P=W),v(P)):a(P,N)}return function(P,N,z,W){try{gl=0;var fe=$e(P,N,z,W);return Ua=null,fe}catch(de){if(de===ol||de===uc)throw de;var De=dn(29,de,null,P.mode);return De.lanes=W,De.return=P,De}finally{}}}var za=o_(!0),l_=o_(!1),Mn=te(null),or=null;function vi(t){var i=t.alternate;ie(Rt,Rt.current&1),ie(Mn,t),or===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(or=t)}function u_(t){if(t.tag===22){if(ie(Rt,Rt.current),ie(Mn,t),or===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(or=t)}}else Ei()}function Ei(){ie(Rt,Rt.current),ie(Mn,Mn.current)}function Br(t){le(Mn),or===t&&(or=null),le(Rt)}var Rt=te(0);function Sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_m(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Dd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=yn(),h=gi(l);h.payload=i,a!=null&&(h.callback=a),i=yi(t,h,l),i!==null&&(_n(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=yn(),h=gi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=yi(t,h,l),i!==null&&(_n(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=yn(),l=gi(a);l.tag=2,i!=null&&(l.callback=i),i=yi(t,l,a),i!==null&&(_n(i,t,a),ul(i,t,a))}};function c_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function h_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Od.enqueueReplaceState(i,i.state,null)}function Us(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function f_(t){Ac(t)}function d_(t){console.error(t)}function m_(t){Ac(t)}function wc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function p_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nd(t,i,a){return a=gi(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(t,i)},a}function g_(t){return t=gi(t),t.tag=3,t}function y_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){p_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){p_(i,a,l),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Pw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&il(i,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return or===null?tm():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ad?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),rm(t,l,h)),!1;case 22:return a.flags|=65536,l===ad?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),rm(t,l,h)),!1}throw Error(s(435,a.tag))}return rm(t,l,h),tm(),!1}if(je)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Jf&&(t=Error(s(422),{cause:l}),rl(In(t,a)))):(l!==Jf&&(i=Error(s(423),{cause:l}),rl(In(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=Nd(t.stateNode,l,h),ud(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),wl===null?wl=[d]:wl.push(d),ct!==4&&(ct=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Nd(a.stateNode,l,t),ud(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=g_(h),y_(h,t,a,l),ud(a,h),!1}a=a.return}while(a!==null);return!1}var __=Error(s(461)),Mt=!1;function Bt(t,i,a,l){i.child=t===null?l_(i,null,a,l):za(i,t.child,a,l)}function v_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ps(i),l=md(t,i,a,v,d,h),T=pd(),t!==null&&!Mt?(gd(t,i,h),jr(t,i,h)):(je&&T&&Wf(i),i.flags|=1,Bt(t,i,l,h),i.child)}function E_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Yf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,T_(t,i,d,l,h)):(t=rc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!zd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(v,l)&&t.ref===i.ref)return jr(t,i,h)}return i.flags|=1,t=xr(d,l),t.ref=i.ref,t.return=i,i.child=t}function T_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Jo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,zd(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,jr(t,i,h)}return Md(t,i,a,l,h)}function S_(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return A_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,d!==null?d.cachePool:null),d!==null?Ty(i,d):hd(),u_(i);else return i.lanes=i.childLanes=536870912,A_(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(lc(i,d.cachePool),Ty(i,d),Ei(),i.memoizedState=null):(t!==null&&lc(i,null),hd(),Ei());return Bt(t,i,h,a),i.child}function A_(t,i,a,l){var h=sd();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&lc(i,null),hd(),u_(i),t!==null&&il(t,i,l,!0),null}function bc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Md(t,i,a,l,h){return Ps(i),a=md(t,i,a,l,void 0,h),l=pd(),t!==null&&!Mt?(gd(t,i,h),jr(t,i,h)):(je&&l&&Wf(i),i.flags|=1,Bt(t,i,a,h),i.child)}function w_(t,i,a,l,h,d){return Ps(i),i.updateQueue=null,a=Ay(i,l,a,h),Sy(t),l=pd(),t!==null&&!Mt?(gd(t,i,d),jr(t,i,d)):(je&&l&&Wf(i),i.flags|=1,Bt(t,i,a,d),i.child)}function b_(t,i,a,l,h){if(Ps(i),i.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},od(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Dd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Od.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=Us(a,T);d.props=C;var B=d.context,X=a.contextType;v=Da,typeof X=="object"&&X!==null&&(v=Yt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&h_(i,d,l,v),pi=!1;var q=i.memoizedState;d.state=q,hl(i,l,d,h),cl(),B=i.memoizedState,T||q!==B||pi?(typeof J=="function"&&(Dd(i,a,J,l),B=i.memoizedState),(C=pi||c_(i,a,C,l,q,B,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ld(t,i),v=i.memoizedProps,X=Us(a,v),d.props=X,J=i.pendingProps,q=d.context,B=a.contextType,C=Da,typeof B=="object"&&B!==null&&(C=Yt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||q!==C)&&h_(i,d,l,C),pi=!1,q=i.memoizedState,d.state=q,hl(i,l,d,h),cl();var H=i.memoizedState;v!==J||q!==H||pi||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof T=="function"&&(Dd(i,a,T,l),H=i.memoizedState),(X=pi||c_(i,a,X,l,q,H,C)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=za(i,t.child,null,h),i.child=za(i,null,a,h)):Bt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=jr(t,i,h),t}function R_(t,i,a,l){return nl(),i.flags|=256,Bt(t,i,a,l),i.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(t){return{baseLanes:t,cachePool:dy()}}function Pd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Vn),t}function C_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?vi(i):Ei(),je){var T=ut,C;if(C=T){e:{for(C=T,T=ar;C.nodeType!==8;){if(!T){T=null;break e}if(C=qn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:Os!==null?{id:Pr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},C=dn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,rn=i,ut=null,C=!0):C=!1}C||Vs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return _m(T)?i.lanes=32:i.lanes=536870912,null;Br(i)}return T=l.children,l=l.fallback,h?(Ei(),h=i.mode,T=Rc({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=xd(a),h.childLanes=Pd(t,v,a),i.memoizedState=Vd,l):(vi(i),kd(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(vi(i),i.flags&=-257,i=Ld(t,i,a)):i.memoizedState!==null?(Ei(),i.child=t.child,i.flags|=128,i=null):(Ei(),h=l.fallback,T=i.mode,l=Rc({mode:"visible",children:l.children},T),h=Ds(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,za(i,t.child,null,a),l=i.child,l.memoizedState=xd(a),l.childLanes=Pd(t,v,a),i.memoizedState=Vd,i=h);else if(vi(i),_m(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,rl({value:l,source:null,stack:null}),i=Ld(t,i,a)}else if(Mt||il(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:oi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ia(t,l),_n(v,t,l),__;T.data==="$?"||tm(),i=Ld(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ut=qn(T.nextSibling),rn=i,je=!0,Ms=null,ar=!1,t!==null&&(On[Nn++]=Pr,On[Nn++]=kr,On[Nn++]=Os,Pr=t.id,kr=t.overflow,Os=i),i=kd(i,l.children),i.flags|=4096);return i}return h?(Ei(),h=l.fallback,T=i.mode,C=t.child,B=C.sibling,l=xr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?h=xr(B,h):(h=Ds(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=xd(a):(C=T.cachePool,C!==null?(B=bt._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=dy(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=Pd(t,v,a),i.memoizedState=Vd,l):(vi(i),a=t.child,t=a.sibling,a=xr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function kd(t,i){return i=Rc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Rc(t,i){return t=dn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ld(t,i,a){return za(i,t.child,null,a),t=kd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function I_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),td(t.return,i,a)}function Ud(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function D_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,i,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I_(t,a,i);else if(t.tag===19)I_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Rt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ud(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ud(i,!0,a,null,d);break;case"together":Ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),bi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(il(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=xr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=xr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function zd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function kw(t,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),mi(i,bt,t.memoizedState.cache),nl();break;case 27:case 5:ai(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:mi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(vi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?C_(t,i,a):(vi(i),t=jr(t,i,a),t!==null?t.sibling:null);vi(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(il(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return D_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,S_(t,i,a);case 24:mi(i,bt,t.memoizedState.cache)}return jr(t,i,a)}function O_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!zd(t,a)&&(i.flags&128)===0)return Mt=!1,kw(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,je&&(i.flags&1048576)!==0&&ay(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Yf(l)?(t=Us(l,t),i.tag=1,i=b_(null,i,l,t,a)):(i.tag=0,i=Md(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=v_(null,i,l,t,a);break e}else if(h===D){i.tag=14,i=E_(null,i,l,t,a);break e}}throw i=Lt(l)||l,Error(s(306,i,""))}}return i;case 0:return Md(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Us(l,i.pendingProps),b_(t,i,l,h,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ld(t,i),hl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,mi(i,bt,l),l!==d.cache&&nd(i,[bt],a,!0),cl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=R_(t,i,l,a);break e}else if(l!==h){h=In(Error(s(424)),i),rl(h),i=R_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=qn(t.firstChild),rn=i,je=!0,Ms=null,ar=!0,a=l_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nl(),l===h){i=jr(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return bc(t,i),t===null?(a=xv(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=Bc(Ae.current).createElement(a),l[St]=i,l[pt]=t,qt(l,a,t),ht(l),i.stateNode=l):i.memoizedState=xv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ai(i),t===null&&je&&(l=i.stateNode=Nv(i.type,i.pendingProps,Ae.current),rn=i,ar=!0,h=ut,Di(i.type)?(vm=h,ut=qn(l.firstChild)):ut=h),Bt(t,i,i.pendingProps.children,a),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=l=ut)&&(l=c1(l,i.type,i.pendingProps,ar),l!==null?(i.stateNode=l,rn=i,ut=qn(l.firstChild),ar=!1,h=!0):h=!1),h||Vs(i)),ai(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,pm(h,d)?l=null:v!==null&&pm(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=md(t,i,Iw,null,null,a),Vl._currentValue=h),bc(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=ut)&&(a=h1(a,i.pendingProps,ar),a!==null?(i.stateNode=a,rn=i,ut=null,t=!0):t=!1),t||Vs(i)),null;case 13:return C_(t,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=za(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return v_(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,mi(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ps(i),h=Yt(h),l=l(h),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return E_(t,i,i.type,i.pendingProps,a);case 15:return T_(t,i,i.type,i.pendingProps,a);case 19:return D_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Rc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=xr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return S_(t,i,a);case 24:return Ps(i),l=Yt(bt),t===null?(h=sd(),h===null&&(h=Je,d=rd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},od(i),mi(i,bt,h)):((t.lanes&a)!==0&&(ld(t,i),hl(i,null,null,a),cl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),mi(i,bt,l)):(l=d.cache,mi(i,bt,l),l!==h.cache&&nd(i,[bt],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qr(t){t.flags|=4}function N_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zv(i)){if(i=Mn.current,i!==null&&((Le&4194048)===Le?or!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==or))throw ll=ad,my;t.flags|=8192}}function Cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Po():536870912,t.lanes|=i,Ha|=i)}function _l(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Lw(t,i,a){var l=i.pendingProps;switch(Zf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ur(bt),Yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(i)?qr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uy())),it(i),null;case 26:return a=i.memoizedState,t===null?(qr(i),a!==null?(it(i),N_(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(qr(i),it(i),N_(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&qr(i),it(i),i.flags&=-16777217),null;case 27:Tr(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ye.current,tl(i)?oy(i):(t=Nv(h,l,a),i.stateNode=t,qr(i))}return it(i),null;case 5:if(Tr(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=ye.current,tl(i))oy(i);else{switch(h=Bc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qr(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&qr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,tl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wv(t.nodeValue,a)),t||Vs(i)}else t=Bc(t).createTextNode(l),t[St]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=tl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else nl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=uy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Br(i),i):(Br(i),null)}if(Br(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),it(i),null;case 4:return Yn(),t===null&&cm(i.stateNode.containerInfo),it(i),null;case 10:return Ur(i.type),it(i),null;case 19:if(le(Rt),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)_l(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Sc(t),d!==null){for(i.flags|=128,_l(h,!1),t=d.updateQueue,i.updateQueue=t,Cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)sy(a,t),a=a.sibling;return ie(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Sn()>Oc&&(i.flags|=128,l=!0,_l(h,!1),i.lanes=4194304)}else{if(!l)if(t=Sc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Cc(i,t),_l(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!je)return it(i),null}else 2*Sn()-h.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,l=!0,_l(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Sn(),i.sibling=null,t=Rt.current,ie(Rt,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return Br(i),fd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&le(ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ur(bt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Uw(t,i){switch(Zf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ur(bt),Yn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Tr(i),null;case 13:if(Br(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));nl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(Rt),null;case 4:return Yn(),null;case 10:return Ur(i.type),null;case 22:case 23:return Br(i),fd(),t!==null&&le(ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ur(bt),null;case 25:return null;default:return null}}function M_(t,i){switch(Zf(i),i.tag){case 3:Ur(bt),Yn();break;case 26:case 27:case 5:Tr(i);break;case 4:Yn();break;case 13:Br(i);break;case 19:le(Rt);break;case 10:Ur(i.type);break;case 22:case 23:Br(i),fd(),t!==null&&le(ks);break;case 24:Ur(bt)}}function vl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function Ti(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var C=a,B=T;try{B()}catch(X){We(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){We(i,i.return,X)}}function V_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ey(i,a)}catch(l){We(t,t.return,l)}}}function x_(t,i,a){a.props=Us(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function El(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function lr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function P_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Bd(t,i,a){try{var l=t.stateNode;s1(l,t.type,a,i),l[pt]=i}catch(h){We(t,t.return,h)}}function k_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Di(t.type)||t.tag===4}function jd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Di(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=zc));else if(l!==4&&(l===27&&Di(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(qd(t,i,a),t=t.sibling;t!==null;)qd(t,i,a),t=t.sibling}function Ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Di(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ic(t,i,a),t=t.sibling;t!==null;)Ic(t,i,a),t=t.sibling}function L_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,a),i[St]=t,i[pt]=a}catch(d){We(t,t.return,d)}}var Hr=!1,dt=!1,Hd=!1,U_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function zw(t,i){if(t=t.containerInfo,dm=Kc,t=Xg(t),jf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,B=0,X=0,J=t,q=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(C=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(H=J.firstChild)!==null;)q=J,J=H;for(;;){if(J===t)break t;if(q===a&&++B===h&&(T=v),q===d&&++X===l&&(C=v),(H=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:t,selectionRange:a},Kc=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=Us(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ym(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ym(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function z_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Si(t,a),l&4&&vl(5,a);break;case 1:if(Si(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Us(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&V_(a),l&512&&El(a,a.return);break;case 3:if(Si(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ey(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&L_(a);case 26:case 5:Si(t,a),i===null&&l&4&&P_(a),l&512&&El(a,a.return);break;case 12:Si(t,a);break;case 13:Si(t,a),l&4&&q_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Yw.bind(null,a),f1(t,a))));break;case 22:if(l=a.memoizedState!==null||Hr,!l){i=i!==null&&i.memoizedState!==null||dt,h=Hr;var d=dt;Hr=l,(dt=i)&&!d?Ai(t,a,(a.subtreeFlags&8772)!==0):Si(t,a),Hr=h,dt=d}break;case 30:break;default:Si(t,a)}}function B_(t){var i=t.alternate;i!==null&&(t.alternate=null,B_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ci(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,an=!1;function Fr(t,i,a){for(a=a.child;a!==null;)j_(t,i,a),a=a.sibling}function j_(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||lr(a,i),Fr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||lr(a,i);var l=rt,h=an;Di(a.type)&&(rt=a.stateNode,an=!1),Fr(t,i,a),Dl(a.stateNode),rt=l,an=h;break;case 5:dt||lr(a,i);case 6:if(l=rt,h=an,rt=null,Fr(t,i,a),rt=l,an=h,rt!==null)if(an)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:rt!==null&&(an?(t=rt,Dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ll(t)):Dv(rt,a.stateNode));break;case 4:l=rt,h=an,rt=a.stateNode.containerInfo,an=!0,Fr(t,i,a),rt=l,an=h;break;case 0:case 11:case 14:case 15:dt||Ti(2,a,i),dt||Ti(4,a,i),Fr(t,i,a);break;case 1:dt||(lr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&x_(a,i,l)),Fr(t,i,a);break;case 21:Fr(t,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Fr(t,i,a),dt=l;break;default:Fr(t,i,a)}}function q_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){We(i,i.return,a)}}function Bw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new U_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new U_),i;default:throw Error(s(435,t.tag))}}function Fd(t,i){var a=Bw(t);i.forEach(function(l){var h=Xw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Di(T.type)){rt=T.stateNode,an=!1;break e}break;case 5:rt=T.stateNode,an=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(rt===null)throw Error(s(160));j_(d,v,h),rt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)H_(i,t),i=i.sibling}var jn=null;function H_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(Ti(3,t,t.return),vl(3,t),Ti(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(dt||a===null||lr(a,a.return)),l&64&&Hr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=jn;if(mn(i,t),pn(t),l&512&&(dt||a===null||lr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ds]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[St]=t,ht(d),l=d;break e;case"link":var v=Lv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Lv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,ht(d),l=d}t.stateNode=l}else Uv(h,t.type,t.stateNode);else t.stateNode=kv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Uv(h,t.type,t.stateNode):kv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(dt||a===null||lr(a,a.return)),a!==null&&l&4&&Bd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(dt||a===null||lr(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(H){We(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Bd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Hd=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){We(t,t.return,H)}}break;case 3:if(Hc=null,h=jn,jn=jc(i.containerInfo),mn(i,t),jn=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(i.containerInfo)}catch(H){We(t,t.return,H)}Hd&&(Hd=!1,F_(t));break;case 4:l=jn,jn=jc(t.stateNode.containerInfo),mn(i,t),pn(t),jn=l;break;case 12:mn(i,t),pn(t);break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($d=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=Hr,X=dt;if(Hr=B||h,dt=X||C,mn(i,t),dt=X,Hr=B,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Hr||dt||zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){We(C,C.return,H)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(H){We(C,C.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Fd(t,a))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fd(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(k_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=jd(t);Ic(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(wn(v,""),a.flags&=-33);var T=jd(t);Ic(t,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,B=jd(t);qd(t,B,C);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function F_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;F_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Si(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)z_(t,i.alternate,i),i=i.sibling}function zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ti(4,i,i.return),zs(i);break;case 1:lr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&x_(i,i.return,a),zs(i);break;case 27:Dl(i.stateNode);case 26:case 5:lr(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}t=t.sibling}}function Ai(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(h,d,a),vl(4,d);break;case 1:if(Ai(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)vy(C[h],T)}catch(B){We(l,l.return,B)}}a&&v&64&&V_(d),El(d,d.return);break;case 27:L_(d);case 26:case 5:Ai(h,d,a),a&&l===null&&v&4&&P_(d),El(d,d.return);break;case 12:Ai(h,d,a);break;case 13:Ai(h,d,a),a&&v&4&&q_(h,d);break;case 22:d.memoizedState===null&&Ai(h,d,a),El(d,d.return);break;case 30:break;default:Ai(h,d,a)}i=i.sibling}}function Gd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Kd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t))}function ur(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)G_(t,i,a,l),i=i.sibling}function G_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ur(t,i,a,l),h&2048&&vl(9,i);break;case 1:ur(t,i,a,l);break;case 3:ur(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){ur(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(i,i.return,C)}}else ur(t,i,a,l);break;case 13:ur(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ur(t,i,a,l):Tl(t,i):d._visibility&2?ur(t,i,a,l):(d._visibility|=2,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Gd(v,i);break;case 24:ur(t,i,a,l),h&2048&&Kd(i.alternate,i);break;default:ur(t,i,a,l)}}function Ba(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,C=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ba(d,v,T,C,h),vl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Ba(d,v,T,C,h):Tl(d,v):(X._visibility|=2,Ba(d,v,T,C,h)),h&&B&2048&&Gd(v.alternate,v);break;case 24:Ba(d,v,T,C,h),h&&B&2048&&Kd(v.alternate,v);break;default:Ba(d,v,T,C,h)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&Gd(l.alternate,l);break;case 24:Tl(a,l),h&2048&&Kd(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var Sl=8192;function ja(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)K_(t),t=t.sibling}function K_(t){switch(t.tag){case 26:ja(t),t.flags&Sl&&t.memoizedState!==null&&b1(jn,t.memoizedState,t.memoizedProps);break;case 5:ja(t);break;case 3:case 4:var i=jn;jn=jc(t.stateNode.containerInfo),ja(t),jn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Sl,Sl=16777216,ja(t),Sl=i):ja(t));break;default:ja(t)}}function Q_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,X_(l,t)}Q_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Y_(t),t=t.sibling}function Y_(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Dc(t)):Al(t);break;default:Al(t)}}function Dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,X_(l,t)}Q_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ti(8,i,i.return),Dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(i));break;default:Dc(i)}t=t.sibling}}function X_(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ti(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(B_(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var jw={getCacheForType:function(t){var i=Yt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},qw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Oe=null,Le=0,Ke=0,gn=null,wi=!1,qa=!1,Qd=!1,Gr=0,ct=0,bi=0,Bs=0,Yd=0,Vn=0,Ha=0,wl=null,on=null,Xd=!1,$d=0,Oc=1/0,Nc=null,Ri=null,jt=0,Ci=null,Fa=null,Ga=0,Wd=0,Zd=null,$_=null,bl=0,Jd=null;function yn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(Y.T!==null){var t=Ma;return t!==0?t:am()}return li()}function W_(){Vn===0&&(Vn=(Le&536870912)===0||je?xo():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),Vn}function _n(t,i,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Ii(t,Le,Vn,!1)),Ar(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Bs|=a),ct===4&&Ii(t,Le,Vn,!1)),cr(t))}function Z_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||fs(t,i),h=l?Gw(t,i):nm(t,i,!0),d=l;do{if(h===0){qa&&!l&&Ii(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Hw(a)){h=nm(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=wl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ka(T,v).flags|=256),v=nm(T,v,!1),v!==2){if(Qd&&!C){T.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Ii(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ii(l,i,Vn,!wi);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=$d+300-Sn(),10<h)){if(Ii(l,i,Vn,!wi),ua(l,0,!0)!==0)break e;l.timeoutHandle=Cv(J_.bind(null,l,a,on,Nc,Xd,i,Vn,Bs,Ha,wi,d,2,-0,0),h);break e}J_(l,a,on,Nc,Xd,i,Vn,Bs,Ha,wi,d,0,-0,0)}}break}while(!0);cr(t)}function J_(t,i,a,l,h,d,v,T,C,B,X,J,q,H){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:w1},K_(i),J=R1(),J!==null)){t.cancelPendingCommit=J(av.bind(null,t,i,d,a,l,h,v,T,C,X,1,q,H)),Ii(t,d,v,!B);return}av(t,i,d,a,l,h,v,T,C)}function Hw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ii(t,i,a,l){i&=~Yd,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Qt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Xn(t,a,i)}function Mc(){return(Ge&6)===0?(Rl(0),!1):!0}function em(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,Lr=xs=null,yd(t),Ua=null,gl=0,t=Oe;for(;t!==null;)M_(t.alternate,t),t=t.return;Oe=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,o1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),em(),Je=t,Oe=a=xr(t.current,null),Le=i,Ke=0,gn=null,wi=!1,qa=fs(t,i),Qd=!1,Ha=Vn=Yd=Bs=bi=ct=0,on=wl=null,Xd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Qt(l),d=1<<h;i|=t[h],l&=~d}return Gr=i,ec(),a}function ev(t,i){Ce=null,Y.H=vc,i===ol||i===uc?(i=yy(),Ke=3):i===my?(i=yy(),Ke=4):Ke=i===__?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Oe===null&&(ct=1,wc(t,In(i,t.current)))}function tv(){var t=Y.H;return Y.H=vc,t===null?vc:t}function nv(){var t=Y.A;return Y.A=jw,t}function tm(){ct=4,wi||(Le&4194048)!==Le&&Mn.current!==null||(qa=!0),(bi&134217727)===0&&(Bs&134217727)===0||Je===null||Ii(Je,Le,Vn,!1)}function nm(t,i,a){var l=Ge;Ge|=2;var h=tv(),d=nv();(Je!==t||Le!==i)&&(Nc=null,Ka(t,i)),i=!1;var v=ct;e:do try{if(Ke!==0&&Oe!==null){var T=Oe,C=gn;switch(Ke){case 8:em(),v=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var B=Ke;if(Ke=0,gn=null,Qa(t,T,C,B),a&&qa){v=0;break e}break;default:B=Ke,Ke=0,gn=null,Qa(t,T,C,B)}}Fw(),v=ct;break}catch(X){ev(t,X)}while(!0);return i&&t.shellSuspendCounter++,Lr=xs=null,Ge=l,Y.H=h,Y.A=d,Oe===null&&(Je=null,Le=0,ec()),v}function Fw(){for(;Oe!==null;)rv(Oe)}function Gw(t,i){var a=Ge;Ge|=2;var l=tv(),h=nv();Je!==t||Le!==i?(Nc=null,Oc=Sn()+500,Ka(t,i)):qa=fs(t,i);e:do try{if(Ke!==0&&Oe!==null){i=Oe;var d=gn;t:switch(Ke){case 1:Ke=0,gn=null,Qa(t,i,d,1);break;case 2:case 9:if(py(d)){Ke=0,gn=null,iv(i);break}i=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),cr(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:py(d)?(Ke=0,gn=null,iv(i)):(Ke=0,gn=null,Qa(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||zv(v)){Ke=0,gn=null;var C=T.sibling;if(C!==null)Oe=C;else{var B=T.return;B!==null?(Oe=B,Vc(B)):Oe=null}break t}}Ke=0,gn=null,Qa(t,i,d,5);break;case 6:Ke=0,gn=null,Qa(t,i,d,6);break;case 8:em(),ct=6;break e;default:throw Error(s(462))}}Kw();break}catch(X){ev(t,X)}while(!0);return Lr=xs=null,Y.H=l,Y.A=h,Ge=a,Oe!==null?0:(Je=null,Le=0,ec(),ct)}function Kw(){for(;Oe!==null&&!Oo();)rv(Oe)}function rv(t){var i=O_(t.alternate,t,Gr);t.memoizedProps=t.pendingProps,i===null?Vc(t):Oe=i}function iv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=w_(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=w_(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:yd(i);default:M_(a,i),i=Oe=sy(i,Gr),i=O_(a,i,Gr)}t.memoizedProps=t.pendingProps,i===null?Vc(t):Oe=i}function Qa(t,i,a,l){Lr=xs=null,yd(i),Ua=null,gl=0;var h=i.return;try{if(Pw(t,h,i,a,Le)){ct=1,wc(t,In(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ct=1,wc(t,In(a,t.current)),Oe=null;return}i.flags&32768?(je||l===1?t=!0:qa||(Le&536870912)!==0?t=!1:(wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sv(i,t)):Vc(i)}function Vc(t){var i=t;do{if((i.flags&32768)!==0){sv(i,wi);return}t=i.return;var a=Lw(i.alternate,i,Gr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ct===0&&(ct=5)}function sv(t,i){do{var a=Uw(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ct=6,Oe=null}function av(t,i,a,l,h,d,v,T,C){t.cancelPendingCommit=null;do xc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Kf,ko(t,a,d,v,T,C),t===Je&&(Oe=Je=null,Le=0),Fa=i,Ci=t,Ga=a,Wd=d,Zd=h,$_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$w(ls,function(){return hv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=oe.p,oe.p=2,v=Ge,Ge|=4;try{zw(t,i,a)}finally{Ge=v,oe.p=h,Y.T=l}}jt=1,ov(),lv(),uv()}}function ov(){if(jt===1){jt=0;var t=Ci,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{H_(i,t);var d=mm,v=Xg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Yg(T.ownerDocument.documentElement,T)){if(C!==null&&jf(T)){var B=C.start,X=C.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var H=q.getSelection(),Se=T.textContent.length,_e=Math.min(C.start,Se),$e=C.end===void 0?_e:Math.min(C.end,Se);!H.extend&&_e>$e&&(v=$e,$e=_e,_e=v);var P=Qg(T,_e),N=Qg(T,$e);if(P&&N&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var z=J.createRange();z.setStart(P.node,P.offset),H.removeAllRanges(),_e>$e?(H.addRange(z),H.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),H.addRange(z))}}}}for(J=[],H=T;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var W=J[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Kc=!!dm,mm=dm=null}finally{Ge=h,oe.p=l,Y.T=a}}t.current=i,jt=2}}function lv(){if(jt===2){jt=0;var t=Ci,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{z_(t,i.alternate,i)}finally{Ge=h,oe.p=l,Y.T=a}}jt=3}}function uv(){if(jt===4||jt===3){jt=0,Du();var t=Ci,i=Fa,a=Ga,l=$_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Fa=Ci=null,cv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ri=null),ca(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=oe.p,oe.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,oe.p=h}}(Ga&3)!==0&&xc(),cr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Jd?bl++:(bl=0,Jd=t):bl=0,Rl(0)}}function cv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sl(i)))}function xc(t){return ov(),lv(),uv(),hv()}function hv(){if(jt!==5)return!1;var t=Ci,i=Wd;Wd=0;var a=ca(Ga),l=Y.T,h=oe.p;try{oe.p=32>a?32:a,Y.T=null,a=Zd,Zd=null;var d=Ci,v=Ga;if(jt=0,Fa=Ci=null,Ga=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Y_(d.current),G_(d,d.current,v,a),Ge=T,Rl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{oe.p=h,Y.T=l,cv(t,i)}}function fv(t,i,a){i=In(a,i),i=Nd(t.stateNode,i,2),t=yi(t,i,2),t!==null&&(Ar(t,2),cr(t))}function We(t,i,a){if(t.tag===3)fv(t,t,a);else for(;i!==null;){if(i.tag===3){fv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ri===null||!Ri.has(l))){t=In(a,t),a=g_(2),l=yi(i,a,2),l!==null&&(y_(a,l,i,t),Ar(l,2),cr(l));break}}i=i.return}}function rm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new qw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Qd=!0,h.add(a),t=Qw.bind(null,t,i,a),i.then(t,t))}function Qw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>Sn()-$d?(Ge&2)===0&&Ka(t,0):Yd|=a,Ha===Le&&(Ha=0)),cr(t)}function dv(t,i){i===0&&(i=Po()),t=Ia(t,i),t!==null&&(Ar(t,i),cr(t))}function Yw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),dv(t,a)}function Xw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),dv(t,a)}function $w(t,i){return as(t,i)}var Pc=null,Ya=null,im=!1,kc=!1,sm=!1,js=0;function cr(t){t!==Ya&&t.next===null&&(Ya===null?Pc=Ya=t:Ya=Ya.next=t),kc=!0,im||(im=!0,Zw())}function Rl(t,i){if(!sm&&kc){sm=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,yv(l,d))}else d=Le,d=ua(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fs(l,d)||(a=!0,yv(l,d));l=l.next}while(a);sm=!1}}function Ww(){mv()}function mv(){kc=im=!1;var t=0;js!==0&&(a1()&&(t=js),js=0);for(var i=Sn(),a=null,l=Pc;l!==null;){var h=l.next,d=pv(l,i);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}Rl(t)}function pv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Qt(d),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Vo(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=Le,a=ua(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&os(l),ca(a)){case 2:case 8:a=oa;break;case 32:a=ls;break;case 268435456:a=la;break;default:a=ls}return l=gv.bind(null,t),a=as(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&os(l),t.callbackPriority=2,t.callbackNode=null,2}function gv(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xc()&&t.callbackNode!==a)return null;var l=Le;return l=ua(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Z_(t,l,i),pv(t,Sn()),t.callbackNode!=null&&t.callbackNode===a?gv.bind(null,t):null)}function yv(t,i){if(xc())return null;Z_(t,i,!0)}function Zw(){l1(function(){(Ge&6)!==0?as(No,Ww):mv()})}function am(){return js===0&&(js=xo()),js}function _v(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function vv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Jw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=_v((h[pt]||null).action),v=l.submitter;v&&(i=(i=v[pt]||null)?_v(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ya("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(js!==0){var C=v?vv(h,v):new FormData(h);Rd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?vv(h,v):new FormData(h),Rd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var om=0;om<Gf.length;om++){var lm=Gf[om],e1=lm.toLowerCase(),t1=lm[0].toUpperCase()+lm.slice(1);Bn(e1,"on"+t1)}Bn(Zg,"onAnimationEnd"),Bn(Jg,"onAnimationIteration"),Bn(ey,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(_w,"onTransitionRun"),Bn(vw,"onTransitionStart"),Bn(Ew,"onTransitionCancel"),Bn(ty,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Ev(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){Ac(X)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,B=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){Ac(X)}h.currentTarget=null,d=C}}}}function Ne(t,i){var a=i[Uo];a===void 0&&(a=i[Uo]=new Set);var l=t+"__bubble";a.has(l)||(Tv(i,t,2,!1),a.add(l))}function um(t,i,a){var l=0;i&&(l|=4),Tv(a,t,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function cm(t){if(!t[Lc]){t[Lc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(n1.has(a)||um(a,!1,t),um(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,um("selectionchange",!1,i))}}function Tv(t,i,a,l){switch(Gv(i)){case 2:var h=D1;break;case 8:h=O1;break;default:h=wm}a=h.bind(null,i,a,t),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function hm(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=wr(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}zu(function(){var B=d,X=bn(a),J=[];e:{var q=ny.get(t);if(q!==void 0){var H=ya,Se=t;switch(t){case"keypress":if(tr(a)===0)break e;case"keydown":case"keyup":H=Aa;break;case"focusin":Se="focus",H=Ea;break;case"focusout":Se="blur",H=Ea;break;case"beforeblur":case"afterblur":H=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Qu;break;case Zg:case Jg:case ey:H=Ta;break;case ty:H=Xu;break;case"scroll":case"scrollend":H=Bu;break;case"wheel":H=wa;break;case"copy":case"cut":case"paste":H=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Wo;break;case"toggle":case"beforetoggle":H=Wu}var _e=(i&4)!==0,$e=!_e&&(t==="scroll"||t==="scrollend"),P=_e?q!==null?q+"Capture":null:q;_e=[];for(var N=B,z;N!==null;){var W=N;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||P===null||(W=Es(N,P),W!=null&&_e.push(Il(N,W,z))),$e)break;N=N.return}0<_e.length&&(q=new H(q,Se,null,a,X),J.push({event:q,listeners:_e}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Ir&&(Se=a.relatedTarget||a.fromElement)&&(wr(Se)||Se[An]))break e;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Se=a.relatedTarget||a.toElement,H=B,Se=Se?wr(Se):null,Se!==null&&($e=u(Se),_e=Se.tag,Se!==$e||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(H=null,Se=B),H!==Se)){if(_e=Cn,W="onMouseLeave",P="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Wo,W="onPointerLeave",P="onPointerEnter",N="pointer"),$e=H==null?q:Wn(H),z=Se==null?q:Wn(Se),q=new _e(W,N+"leave",H,a,X),q.target=$e,q.relatedTarget=z,W=null,wr(X)===B&&(_e=new _e(P,N+"enter",Se,a,X),_e.target=z,_e.relatedTarget=$e,W=_e),$e=W,H&&Se)t:{for(_e=H,P=Se,N=0,z=_e;z;z=Xa(z))N++;for(z=0,W=P;W;W=Xa(W))z++;for(;0<N-z;)_e=Xa(_e),N--;for(;0<z-N;)P=Xa(P),z--;for(;N--;){if(_e===P||P!==null&&_e===P.alternate)break t;_e=Xa(_e),P=Xa(P)}_e=null}else _e=null;H!==null&&Sv(J,q,H,_e,!1),Se!==null&&$e!==null&&Sv(J,$e,Se,_e,!0)}}e:{if(q=B?Wn(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var fe=jg;else if(wt(q))if(qg)fe=pw;else{fe=dw;var De=fw}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Fo(B.elementType)&&(fe=jg):fe=mw;if(fe&&(fe=fe(t,B))){Vr(J,fe,a,X);break e}De&&De(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&fi(q,"number",q.value)}switch(De=B?Wn(B):window,t){case"focusin":(wt(De)||De.contentEditable==="true")&&(ba=De,qf=B,el=null);break;case"focusout":el=qf=ba=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,$g(J,a,X);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":$g(J,a,X)}var de;if(ir)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pe?F(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Pe||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pe&&(de=Ko()):(er=X,di="value"in er?er.value:er.textContent,Pe=!0)),De=Uc(B,ve),0<De.length&&(ve=new Xo(ve,t,null,a,X),J.push({event:ve,listeners:De}),de?ve.data=de:(de=se(a),de!==null&&(ve.data=de)))),(de=y?At(t,a):ke(t,a))&&(ve=Uc(B,"onBeforeInput"),0<ve.length&&(De=new Xo("onBeforeInput","beforeinput",null,a,X),J.push({event:De,listeners:ve}),De.data=de)),Jw(J,t,B,a,X)}Ev(J,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Uc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Es(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sv(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,h?(B=Es(a,d),B!=null&&v.unshift(Il(a,B,C))):h||(B=Es(a,d),B!=null&&v.push(Il(a,B,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var r1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function Av(t){return(typeof t=="string"?t:""+t).replace(r1,`
`).replace(i1,"")}function wv(t,i){return i=Av(i),Av(t)===i}function zc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":Zn(t,"class",l);break;case"tabIndex":Zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(t,a,l);break;case"style":Ho(t,l,d);break;case"data":if(i!=="object"){Zn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zc);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),hi(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pf.get(a)||a,hi(t,a,l))}}function fm(t,i,a,l,h,d){switch(a){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hi(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=v=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Xe(t,i,l,X,a,null)}}ys(t,d,T,C,B,v,h,!1),pa(t);return;case"select":Ne("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Cr(t,!!l,i,!1):a!=null&&Cr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,v,T,a,null)}_s(t,l,h,d),pa(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,C,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Ne(Cl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,B,l,a,null)}return;default:if(Fo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&fm(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function s1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,B=null,X=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(H)||Xe(t,i,H,null,l,J)}}for(var q in l){var H=l[q];if(J=a[q],l.hasOwnProperty(q)&&(H!=null||J!=null))switch(q){case"type":d=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":X=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==J&&Xe(t,i,q,H,l,J)}}hn(t,v,T,C,B,X,d,h);return;case"select":H=v=T=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Xe(t,i,h,d,l,C)}i=T,a=v,l=H,q!=null?Cr(t,!!a,q,!1):!!l!=!!a&&(i!=null?Cr(t,!!a,i,!0):Cr(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Qe(t,q,H);return;case"option":for(var Se in a)if(q=a[Se],a.hasOwnProperty(Se)&&q!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Xe(t,i,Se,null,l,q)}for(C in l)if(q=l[C],H=a[C],l.hasOwnProperty(C)&&q!==H&&(q!=null||H!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xe(t,i,C,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&Xe(t,i,_e,null,l,q);for(B in l)if(q=l[B],H=a[B],l.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Xe(t,i,B,q,l,H)}return;default:if(Fo(i)){for(var $e in a)q=a[$e],a.hasOwnProperty($e)&&q!==void 0&&!l.hasOwnProperty($e)&&fm(t,i,$e,void 0,l,q);for(X in l)q=l[X],H=a[X],!l.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||fm(t,i,X,q,l,H);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Xe(t,i,P,null,l,q);for(J in l)q=l[J],H=a[J],!l.hasOwnProperty(J)||q===H||q==null&&H==null||Xe(t,i,J,q,l,H)}var dm=null,mm=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function bv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function pm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gm=null;function a1(){var t=window.event;return t&&t.type==="popstate"?t===gm?!1:(gm=t,!0):(gm=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(t){return Iv.resolve(null).then(t).catch(u1)}:Cv;function u1(t){setTimeout(function(){throw t})}function Di(t){return t==="head"}function Dv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Dl(v.documentElement),a&2&&Dl(v.body),a&4)for(a=v.head,Dl(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[ds]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Ll(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ll(i)}function ym(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),ci(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function c1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ds])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function h1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function f1(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var vm=null;function Ov(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Nv(t,i,a){switch(i=Bc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ci(t)}var xn=new Map,Mv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Kr=oe.d;oe.d={f:d1,r:m1,D:p1,C:g1,L:y1,m:_1,X:E1,S:v1,M:T1};function d1(){var t=Kr.f(),i=Mc();return t||i}function m1(t){var i=$n(t);i!==null&&i.tag===5&&i.type==="form"?Zy(i):Kr.r(t)}var $a=typeof document>"u"?null:document;function Vv(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Mv.has(h)||(Mv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),ht(i),l.head.appendChild(i)))}}function p1(t){Kr.D(t),Vv("dns-prefetch",t,null)}function g1(t,i){Kr.C(t,i),Vv("preconnect",t,i)}function y1(t,i,a){Kr.L(t,i,a);var l=$a;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=Za(t)}xn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ol(d))||i==="script"&&l.querySelector(Nl(d))||(i=l.createElement("link"),qt(i,"link",t),ht(i),l.head.appendChild(i)))}}function _1(t,i){Kr.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!xn.has(d)&&(t=E({rel:"modulepreload",href:t},i),xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),qt(l,"link",t),ht(l),a.head.appendChild(l)}}}function v1(t,i,a){Kr.S(t,i,a);var l=$a;if(l&&t){var h=en(l).hoistableStyles,d=Wa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ol(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xn.get(d))&&Em(t,a);var C=v=l.createElement("link");ht(C),qt(C,"link",t),C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function E1(t,i){Kr.X(t,i);var a=$a;if(a&&t){var l=en(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=E({src:t,async:!0},i),(i=xn.get(h))&&Tm(t,i),d=a.createElement("script"),ht(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function T1(t,i){Kr.M(t,i);var a=$a;if(a&&t){var l=en(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=xn.get(h))&&Tm(t,i),d=a.createElement("script"),ht(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xv(t,i,a,l){var h=(h=Ae.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=en(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ol(t)))&&!d._p&&(v.instance=d,v.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||S1(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+gt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Pv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function S1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),ht(i),t.head.appendChild(i))}function Za(t){return'[src="'+gt(t)+'"]'}function Nl(t){return"script[async]"+t}function kv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),qt(l,"style",h),qc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Ol(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=Pv(a),(h=xn.get(h))&&Em(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),qt(d,"link",l),i.state.loading|=4,qc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Nl(d)))?(i.instance=h,ht(h),h):(l=a,(h=xn.get(d))&&(l=E({},a),Tm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,t));return i.instance}function qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Hc=null;function Lv(t,i,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ds]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Uv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function A1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function w1(){}function b1(t,i,a){if(Ml===null)throw Error(s(475));var l=Ml;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Wa(a.href),d=t.querySelector(Ol(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,a=Pv(a),(h=xn.get(h))&&Em(a,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Fc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function R1(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&Sm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Sm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Sm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(C1,t),Gc=null,Fc.call(t))}function C1(t,i){if(!(i.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Vl={$$typeof:$,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function I1(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Bv(t,i,a,l,h,d,v,T,C,B,X,J){return t=new I1(t,i,a,v,T,C,B,J),i=1,d===!0&&(i|=24),d=dn(3,null,null,i),t.current=d,d.stateNode=t,i=rd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},od(d),t}function jv(t){return t?(t=Da,t):Da}function qv(t,i,a,l,h,d){h=jv(h),l.context===null?l.context=h:l.pendingContext=h,l=gi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yi(t,l,i),a!==null&&(_n(a,t,i),ul(a,t,i))}function Hv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Am(t,i){Hv(t,i),(t=t.alternate)&&Hv(t,i)}function Fv(t){if(t.tag===13){var i=Ia(t,67108864);i!==null&&_n(i,t,67108864),Am(t,67108864)}}var Kc=!0;function D1(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=2,wm(t,i,a,l)}finally{oe.p=d,Y.T=h}}function O1(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=8,wm(t,i,a,l)}finally{oe.p=d,Y.T=h}}function wm(t,i,a,l){if(Kc){var h=bm(l);if(h===null)hm(t,i,l,Qc,a),Kv(t,l);else if(M1(h,t,i,a,l))l.stopPropagation();else if(Kv(t,l),i&4&&-1<N1.indexOf(t)){for(;h!==null;){var d=$n(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ln(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Qt(v);T.entanglements[1]|=C,v&=~C}cr(d),(Ge&6)===0&&(Oc=Sn()+500,Rl(0))}}break;case 13:T=Ia(d,2),T!==null&&_n(T,d,2),Mc(),Am(d,2)}if(d=bm(l),d===null&&hm(t,i,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else hm(t,i,l,null,a)}}function bm(t){return t=bn(t),Rm(t)}var Qc=null;function Rm(t){if(Qc=null,t=wr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function Gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Df()){case No:return 2;case oa:return 8;case ls:case Of:return 32;case la:return 268435456;default:return 32}default:return 32}}var Cm=!1,Oi=null,Ni=null,Mi=null,xl=new Map,Pl=new Map,Vi=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(t,i){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function kl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=$n(i),i!==null&&Fv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function M1(t,i,a,l,h){switch(i){case"focusin":return Oi=kl(Oi,t,i,a,l,h),!0;case"dragenter":return Ni=kl(Ni,t,i,a,l,h),!0;case"mouseover":return Mi=kl(Mi,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,kl(xl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Pl.set(d,kl(Pl.get(d)||null,t,i,a,l,h)),!0}return!1}function Qv(t){var i=wr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Mu(t.priority,function(){if(a.tag===13){var l=yn();l=oi(l);var h=Ia(a,l);h!==null&&_n(h,a,l),Am(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=bm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ir=l,a.target.dispatchEvent(l),Ir=null}else return i=$n(a),i!==null&&Fv(i),t.blockedOn=a,!1;i.shift()}return!0}function Yv(t,i,a){Yc(t)&&a.delete(i)}function V1(){Cm=!1,Oi!==null&&Yc(Oi)&&(Oi=null),Ni!==null&&Yc(Ni)&&(Ni=null),Mi!==null&&Yc(Mi)&&(Mi=null),xl.forEach(Yv),Pl.forEach(Yv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,Cm||(Cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,V1)))}var $c=null;function Xv(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Rm(l||a)===null)continue;break}var d=$n(a);d!==null&&(t.splice(i,3),i-=3,Rd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ll(t){function i(C){return Xc(C,t)}Oi!==null&&Xc(Oi,t),Ni!==null&&Xc(Ni,t),Mi!==null&&Xc(Mi,t),xl.forEach(i),Pl.forEach(i);for(var a=0;a<Vi.length;a++){var l=Vi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)Qv(a),a.blockedOn===null&&Vi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pt]||null;if(typeof d=="function")v||Xv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pt]||null)T=v.formAction;else if(Rm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Xv(a)}}}function Im(t){this._internalRoot=t}Wc.prototype.render=Im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();qv(a,l,t,i,null,null)},Wc.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;qv(t.current,2,null,t,null,null),Mc(),i[An]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=li();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Vi.length&&i!==0&&i<Vi[a].priority;a++);Vi.splice(a,0,t),a===0&&Qv(t)}};var $v=e.version;if($v!=="19.1.0")throw Error(s(527,$v,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var x1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{lt=Zc.inject(x1),Fe=Zc}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=f_,d=d_,v=m_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Bv(t,1,!1,null,null,a,l,h,d,v,T,null),t[An]=i.current,cm(t),new Im(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=f_,v=d_,T=m_,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=Bv(t,1,!0,i,a??null,l,h,d,v,T,C,B),i.context=jv(null),a=i.current,l=yn(),l=oi(l),h=gi(l),h.callback=null,yi(a,h,l),a=l,i.current.lanes=a,Ar(i,a),cr(i),t[An]=i.current,cm(t),new Wc(i)},zl.version="19.1.0",zl}var aE;function G1(){if(aE)return Om.exports;aE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Om.exports=F1(),Om.exports}var K1=G1(),K=Wh();const Gs=k1(K);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oE="popstate";function Q1(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return tp("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:eu(o)}return X1(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _r(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y1(){return Math.random().toString(36).substring(2,10)}function lE(r,e){return{usr:r.state,key:r.key,idx:e}}function tp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?vo(e):e,state:n,key:e&&e.key||s||Y1()}}function eu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function vo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function X1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let j=E(),G=j==null?null:j-g;g=j,p&&p({action:m,location:Q.location,delta:G})}function w(j,G){m="PUSH";let re=tp(Q.location,j,G);g=E()+1;let $=lE(re,g),ue=Q.createHref(re);try{f.pushState($,"",ue)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(ue)}u&&p&&p({action:m,location:Q.location,delta:1})}function x(j,G){m="REPLACE";let re=tp(Q.location,j,G);g=E();let $=lE(re,g),ue=Q.createHref(re);f.replaceState($,"",ue),u&&p&&p({action:m,location:Q.location,delta:0})}function U(j){return $1(j)}let Q={get action(){return m},get location(){return r(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(oE,A),p=j,()=>{o.removeEventListener(oE,A),p=null}},createHref(j){return e(o,j)},createURL:U,encodeLocation(j){let G=U(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:w,replace:x,go(j){return f.go(j)}};return Q}function $1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:eu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function a0(r,e,n="/"){return W1(r,e,n,!1)}function W1(r,e,n,s){let o=typeof e=="string"?vo(e):e,u=Zr(o.pathname||"/",n);if(u==null)return null;let f=o0(r);Z1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=ub(u);m=ob(f[p],g,s)}return m}function o0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Xr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),o0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:sb(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of l0(u.path))o(u,f,m)}),e}function l0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=l0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Z1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:ab(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var J1=/^:[\w-]+$/,eb=3,tb=2,nb=1,rb=10,ib=-2,uE=r=>r==="*";function sb(r,e){let n=r.split("/"),s=n.length;return n.some(uE)&&(s+=ib),e&&(s+=tb),n.filter(o=>!uE(o)).reduce((o,u)=>o+(J1.test(u)?eb:u===""?nb:rb),s)}function ab(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function ob(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Xr([u,A.pathname]),pathnameBase:db(Xr([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=Xr([u,A.pathnameBase]))}return f}function Ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=lb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},w)=>{if(E==="*"){let U=m[w]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const x=m[w];return A&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function lb(r,e=!1,n=!0){_r(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ub(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _r(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Zr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function cb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?vo(r):r;return{pathname:n?n.startsWith("/")?n:hb(n,e):e,search:mb(s),hash:pb(o)}}function hb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function u0(r){let e=fb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function c0(r,e,n,s=!1){let o;typeof r=="string"?o=vo(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?e[A]:"/"}let p=cb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Xr=r=>r.join("/").replace(/\/\/+/g,"/"),db=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var h0=["POST","PUT","PATCH","DELETE"];new Set(h0);var yb=["GET",...h0];new Set(yb);var Eo=K.createContext(null);Eo.displayName="DataRouter";var Zh=K.createContext(null);Zh.displayName="DataRouterState";K.createContext(!1);var f0=K.createContext({isTransitioning:!1});f0.displayName="ViewTransition";var _b=K.createContext(new Map);_b.displayName="Fetchers";var vb=K.createContext(null);vb.displayName="Await";var Er=K.createContext(null);Er.displayName="Navigation";var fu=K.createContext(null);fu.displayName="Location";var ii=K.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var zp=K.createContext(null);zp.displayName="RouteError";function Eb(r,{relative:e}={}){st(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(Er),{hash:o,pathname:u,search:f}=mu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function du(){return K.useContext(fu)!=null}function na(){return st(du(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(fu).location}var d0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m0(r){K.useContext(Er).static||K.useLayoutEffect(r)}function Bp(){let{isDataRoute:r}=K.useContext(ii);return r?Vb():Tb()}function Tb(){st(du(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Eo),{basename:e,navigator:n}=K.useContext(Er),{matches:s}=K.useContext(ii),{pathname:o}=na(),u=JSON.stringify(u0(s)),f=K.useRef(!1);return m0(()=>{f.current=!0}),K.useCallback((p,g={})=>{if(_r(f.current,d0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=c0(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}K.createContext(null);function mu(r,{relative:e}={}){let{matches:n}=K.useContext(ii),{pathname:s}=na(),o=JSON.stringify(u0(n));return K.useMemo(()=>c0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Sb(r,e){return p0(r,e)}function p0(r,e,n,s){st(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext(Er),{matches:u}=K.useContext(ii),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let G=E&&E.path||"";g0(p,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=na(),w;if(e){let G=typeof e=="string"?vo(e):e;st(g==="/"||G.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${G.pathname}" was given in the \`location\` prop.`),w=G}else w=A;let x=w.pathname||"/",U=x;if(g!=="/"){let G=g.replace(/^\//,"").split("/");U="/"+x.replace(/^\//,"").split("/").slice(G.length).join("/")}let Q=a0(r,{pathname:U});_r(E||Q!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),_r(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Cb(Q&&Q.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Xr([g,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?g:Xr([g,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s);return e&&j?K.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function Ab(){let r=Mb(),e=gb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,f)}var wb=K.createElement(Ab,null),bb=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(ii.Provider,{value:this.props.routeContext},K.createElement(zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rb({routeContext:r,match:e,children:n}){let s=K.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(ii.Provider,{value:r},n)}function Cb(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,w=!1,x=null,U=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||wb,f&&(m<0&&E===0?(g0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,U=null):m===E&&(w=!0,U=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),j=()=>{let G;return A?G=x:w?G=U:g.route.Component?G=K.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,K.createElement(Rb,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?K.createElement(bb,{location:n.location,revalidation:n.revalidation,component:x,error:A,children:j(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):j()},null)}function jp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ib(r){let e=K.useContext(Eo);return st(e,jp(r)),e}function Db(r){let e=K.useContext(Zh);return st(e,jp(r)),e}function Ob(r){let e=K.useContext(ii);return st(e,jp(r)),e}function qp(r){let e=Ob(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Nb(){return qp("useRouteId")}function Mb(){let r=K.useContext(zp),e=Db("useRouteError"),n=qp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Vb(){let{router:r}=Ib("useNavigate"),e=qp("useNavigate"),n=K.useRef(!1);return m0(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{_r(n.current,d0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var cE={};function g0(r,e,n){!e&&!cE[r]&&(cE[r]=!0,_r(!1,n))}K.memo(xb);function xb({routes:r,future:e,state:n}){return p0(r,void 0,n,e)}function np(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=vo(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:w="default"}=n,x=K.useMemo(()=>{let U=Zr(p,f);return U==null?null:{location:{pathname:U,search:g,hash:E,state:A,key:w},navigationType:s}},[f,p,g,E,A,w,s]);return _r(x!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:K.createElement(Er.Provider,{value:m},K.createElement(fu.Provider,{children:e,value:x}))}function kb({children:r,location:e}){return Sb(rp(r),e)}function rp(r,e=[]){let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){n.push.apply(n,rp(s.props.children,u));return}st(s.type===np,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=rp(s.props.children,u)),n.push(f)}),n}var ch="get",hh="application/x-www-form-urlencoded";function Jh(r){return r!=null&&typeof r.tagName=="string"}function Lb(r){return Jh(r)&&r.tagName.toLowerCase()==="button"}function Ub(r){return Jh(r)&&r.tagName.toLowerCase()==="form"}function zb(r){return Jh(r)&&r.tagName.toLowerCase()==="input"}function Bb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jb(r,e){return r.button===0&&(!e||e==="_self")&&!Bb(r)}var Jc=null;function qb(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var Hb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(r){return r!=null&&!Hb.has(r)?(_r(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):r}function Fb(r,e){let n,s,o,u,f;if(Ub(r)){let m=r.getAttribute("action");s=m?Zr(m,e):null,n=r.getAttribute("method")||ch,o=km(r.getAttribute("enctype"))||hh,u=new FormData(r)}else if(Lb(r)||zb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Zr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ch,o=km(r.getAttribute("formenctype"))||km(m.getAttribute("enctype"))||hh,u=new FormData(m,r),!qb()){let{name:g,type:E,value:A}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(Jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,s=null,o=hh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gb(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Zr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Kb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Yb(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Kb(u,n);return f.links?f.links():[]}return[]}));return Zb(s.flat(1).filter(Qb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function hE(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Xb(r,e,{includeHydrateFallback:n}={}){return $b(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $b(r){return[...new Set(r)]}function Wb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Zb(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Wb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function y0(){let r=K.useContext(Eo);return Hp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Jb(){let r=K.useContext(Zh);return Hp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Fp=K.createContext(void 0);Fp.displayName="FrameworkContext";function _0(){let r=K.useContext(Fp);return Hp(r,"You must render this element inside a <HydratedRouter> element"),r}function eR(r,e){let n=K.useContext(Fp),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,w=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=G=>{G.forEach(re=>{f(re.isIntersecting)})},j=new IntersectionObserver(Q,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),K.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let x=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Bl(m,x),onBlur:Bl(p,U),onMouseEnter:Bl(g,x),onMouseLeave:Bl(E,U),onTouchStart:Bl(A,x)}]:[!1,w,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function tR({page:r,...e}){let{router:n}=y0(),s=K.useMemo(()=>a0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement(rR,{page:r,matches:s,...e}):null}function nR(r){let{manifest:e,routeModules:n}=_0(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return Yb(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function rR({page:r,matches:e,...n}){let s=na(),{manifest:o,routeModules:u}=_0(),{basename:f}=y0(),{loaderData:m,matches:p}=Jb(),g=K.useMemo(()=>hE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=K.useMemo(()=>hE(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,Q=!1;if(e.forEach(G=>{let re=o.routes[G.route.id];!re||!re.hasLoader||(!g.some($=>$.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||re.hasClientLoader?Q=!0:U.add(G.route.id))}),U.size===0)return[];let j=Gb(r,f,"data");return Q&&U.size>0&&j.searchParams.set("_routes",e.filter(G=>U.has(G.route.id)).map(G=>G.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,g,e,r,u]),w=K.useMemo(()=>Xb(E,o),[E,o]),x=nR(E);return K.createElement(K.Fragment,null,A.map(U=>K.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),w.map(U=>K.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),x.map(({key:U,link:Q})=>K.createElement("link",{key:U,...Q})))}function iR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v0&&(window.__reactRouterVersion="7.7.0")}catch{}function sR({basename:r,children:e,window:n}){let s=K.useRef();s.current==null&&(s.current=Q1({window:n,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(Pb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T0=K.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...w},x){let{basename:U}=K.useContext(Er),Q=typeof g=="string"&&E0.test(g),j,G=!1;if(typeof g=="string"&&Q&&(j=g,v0))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=Zr(M.pathname,U);M.origin===R.origin&&V!=null?g=V+M.search+M.hash:G=!0}catch{_r(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Eb(g,{relative:o}),[$,ue,ne]=eR(s,w),ge=uR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function D(R){e&&e(R),R.defaultPrevented||ge(R)}let b=K.createElement("a",{...w,...ne,href:j||re,onClick:G||u?e:D,ref:iR(x,ue),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return $&&!Q?K.createElement(K.Fragment,null,b,K.createElement(tR,{page:re})):b});T0.displayName="Link";var aR=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=mu(f,{relative:g.relative}),w=na(),x=K.useContext(Zh),{navigator:U,basename:Q}=K.useContext(Er),j=x!=null&&mR(A)&&m===!0,G=U.encodeLocation?U.encodeLocation(A).pathname:A.pathname,re=w.pathname,$=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(re=re.toLowerCase(),$=$?$.toLowerCase():null,G=G.toLowerCase()),$&&Q&&($=Zr($,Q)||$);const ue=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ne=re===G||!o&&re.startsWith(G)&&re.charAt(ue)==="/",ge=$!=null&&($===G||!o&&$.startsWith(G)&&$.charAt(G.length)==="/"),D={isActive:ne,isPending:ge,isTransitioning:j},b=ne?e:void 0,R;typeof s=="function"?R=s(D):R=[s,ne?"active":null,ge?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return K.createElement(T0,{...g,"aria-current":b,className:R,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(D):p)});aR.displayName="NavLink";var oR=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ch,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...w},x)=>{let U=fR(),Q=dR(m,{relative:g}),j=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&E0.test(m),re=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ue=$.nativeEvent.submitter,ne=ue?.getAttribute("formmethod")||f;U(ue||$.currentTarget,{fetcherKey:e,method:ne,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return K.createElement("form",{ref:x,method:j,action:Q,onSubmit:s?p:re,...w,"data-discover":!G&&r==="render"?"true":void 0})});oR.displayName="Form";function lR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S0(r){let e=K.useContext(Eo);return st(e,lR(r)),e}function uR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Bp(),p=na(),g=mu(r,{relative:u});return K.useCallback(E=>{if(jb(E,e)){E.preventDefault();let A=n!==void 0?n:eu(p)===eu(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var cR=0,hR=()=>`__${String(++cR)}__`;function fR(){let{router:r}=S0("useSubmit"),{basename:e}=K.useContext(Er),n=Nb();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Fb(s,e);if(o.navigate===!1){let E=o.fetcherKey||hR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function dR(r,{relative:e}={}){let{basename:n}=K.useContext(Er),s=K.useContext(ii);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:e})},f=na();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xr([n,u.pathname])),eu(u)}function mR(r,e={}){let n=K.useContext(f0);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=S0("useViewTransitionState"),o=mu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Zr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Zr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}function Ks({children:r,onClick:e,type:n="button",variant:s="primary",disabled:o=!1}){const u=()=>{if(s==="primary")return gR;if(s==="secondary")return yR;if(s==="danger")return _R;if(s==="outlined")return vR},f=()=>o?ER:"";return ae.jsx("button",{onClick:e,disabled:o,type:n,className:`${pR} ${u()} ${f()}`,children:r})}const pR=`
  flex 
  w-full 
  justify-center 
  rounded-md 
  px-3 
  py-1.5 
  font-semibold 
  shadow-xs 
  focus-visible:outline-2 
  focus-visible:outline-offset-2 
`,gR=`
  bg-indigo-600 
  text-white 
  hover:bg-indigo-500 
  focus-visible:outline-indigo-600
`,yR=`
  bg-gray-600 
  text-white 
  hover:bg-gray-700 
  focus:ring-gray-500
`,_R=`
  bg-red-600 
  text-white 
  hover:bg-red-700 
  focus:ring-red-500
`,vR=`
  border 
  border-gray-300 
  text-gray-700 
  hover:bg-gray-100 
  focus:ring-gray-500
`,ER=`
  opacity-50 
  cursor-not-allowed
`;var Lm={exports:{}},Um={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function TR(){if(fE)return Um;fE=1;var r=Wh();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,f=r.useMemo,m=r.useDebugValue;return Um.useSyncExternalStoreWithSelector=function(p,g,E,A,w){var x=o(null);if(x.current===null){var U={hasValue:!1,value:null};x.current=U}else U=x.current;x=f(function(){function j(ne){if(!G){if(G=!0,re=ne,ne=A(ne),w!==void 0&&U.hasValue){var ge=U.value;if(w(ge,ne))return $=ge}return $=ne}if(ge=$,n(re,ne))return ge;var D=A(ne);return w!==void 0&&w(ge,D)?(re=ne,ge):(re=ne,$=D)}var G=!1,re,$,ue=E===void 0?null:E;return[function(){return j(g())},ue===null?void 0:function(){return j(ue())}]},[g,E,A,w]);var Q=s(p,x[0],x[1]);return u(function(){U.hasValue=!0,U.value=Q},[Q]),m(Q),Q},Um}var dE;function SR(){return dE||(dE=1,Lm.exports=TR()),Lm.exports}var AR=SR();function wR(r){r()}function bR(){let r=null,e=null;return{clear(){r=null,e=null},notify(){wR(()=>{let n=r;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=r;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:r=o,function(){!s||r===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var mE={notify(){},get:()=>[]};function RR(r,e){let n,s=mE,o=0,u=!1;function f(Q){E();const j=s.subscribe(Q);let G=!1;return()=>{G||(G=!0,j(),A())}}function m(){s.notify()}function p(){U.onStateChange&&U.onStateChange()}function g(){return u}function E(){o++,n||(n=r.subscribe(p),s=bR())}function A(){o--,n&&o===0&&(n(),n=void 0,s.clear(),s=mE)}function w(){u||(u=!0,E())}function x(){u&&(u=!1,A())}const U={addNestedSub:f,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:w,tryUnsubscribe:x,getListeners:()=>s};return U}var CR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IR=CR(),DR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",OR=DR(),NR=()=>IR||OR?K.useLayoutEffect:K.useEffect,MR=NR(),VR=Symbol.for("react-redux-context"),xR=typeof globalThis<"u"?globalThis:{};function PR(){if(!K.createContext)return{};const r=xR[VR]??=new Map;let e=r.get(K.createContext);return e||(e=K.createContext(null),r.set(K.createContext,e)),e}var Qi=PR();function kR(r){const{children:e,context:n,serverState:s,store:o}=r,u=K.useMemo(()=>{const p=RR(o);return{store:o,subscription:p,getServerState:s?()=>s:void 0}},[o,s]),f=K.useMemo(()=>o.getState(),[o]);MR(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),f!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,f]);const m=n||Qi;return K.createElement(m.Provider,{value:u},e)}var LR=kR;function Gp(r=Qi){return function(){return K.useContext(r)}}var A0=Gp();function w0(r=Qi){const e=r===Qi?A0:Gp(r),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var UR=w0();function zR(r=Qi){const e=r===Qi?UR:w0(r),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var es=zR(),BR=(r,e)=>r===e;function jR(r=Qi){const e=r===Qi?A0:Gp(r),n=(s,o={})=>{const{equalityFn:u=BR}=typeof o=="function"?{equalityFn:o}:o,f=e(),{store:m,subscription:p,getServerState:g}=f;K.useRef(!0);const E=K.useCallback({[s.name](w){return s(w)}}[s.name],[s]),A=AR.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,E,u);return K.useDebugValue(A),A};return Object.assign(n,{withTypes:()=>n}),n}var ef=jR();function Ht(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var qR=typeof Symbol=="function"&&Symbol.observable||"@@observable",pE=qR,zm=()=>Math.random().toString(36).substring(7).split("").join("."),HR={INIT:`@@redux/INIT${zm()}`,REPLACE:`@@redux/REPLACE${zm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zm()}`},wh=HR;function Kp(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function b0(r,e,n){if(typeof r!="function")throw new Error(Ht(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ht(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ht(1));return n(b0)(r,e)}let s=r,o=e,u=new Map,f=u,m=0,p=!1;function g(){f===u&&(f=new Map,u.forEach((j,G)=>{f.set(G,j)}))}function E(){if(p)throw new Error(Ht(3));return o}function A(j){if(typeof j!="function")throw new Error(Ht(4));if(p)throw new Error(Ht(5));let G=!0;g();const re=m++;return f.set(re,j),function(){if(G){if(p)throw new Error(Ht(6));G=!1,g(),f.delete(re),u=null}}}function w(j){if(!Kp(j))throw new Error(Ht(7));if(typeof j.type>"u")throw new Error(Ht(8));if(typeof j.type!="string")throw new Error(Ht(17));if(p)throw new Error(Ht(9));try{p=!0,o=s(o,j)}finally{p=!1}return(u=f).forEach(re=>{re()}),j}function x(j){if(typeof j!="function")throw new Error(Ht(10));s=j,w({type:wh.REPLACE})}function U(){const j=A;return{subscribe(G){if(typeof G!="object"||G===null)throw new Error(Ht(11));function re(){const ue=G;ue.next&&ue.next(E())}return re(),{unsubscribe:j(re)}},[pE](){return this}}}return w({type:wh.INIT}),{dispatch:w,subscribe:A,getState:E,replaceReducer:x,[pE]:U}}function FR(r){Object.keys(r).forEach(e=>{const n=r[e];if(typeof n(void 0,{type:wh.INIT})>"u")throw new Error(Ht(12));if(typeof n(void 0,{type:wh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ht(13))})}function GR(r){const e=Object.keys(r),n={};for(let u=0;u<e.length;u++){const f=e[u];typeof r[f]=="function"&&(n[f]=r[f])}const s=Object.keys(n);let o;try{FR(n)}catch(u){o=u}return function(f={},m){if(o)throw o;let p=!1;const g={};for(let E=0;E<s.length;E++){const A=s[E],w=n[A],x=f[A],U=w(x,m);if(typeof U>"u")throw m&&m.type,new Error(Ht(14));g[A]=U,p=p||U!==x}return p=p||s.length!==Object.keys(f).length,p?g:f}}function bh(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,n)=>(...s)=>e(n(...s)))}function KR(...r){return e=>(n,s)=>{const o=e(n,s);let u=()=>{throw new Error(Ht(15))};const f={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=r.map(p=>p(f));return u=bh(...m)(o.dispatch),{...o,dispatch:u}}}function QR(r){return Kp(r)&&"type"in r&&typeof r.type=="string"}var R0=Symbol.for("immer-nothing"),gE=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function Hn(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var co=Object.getPrototypeOf;function Qs(r){return!!r&&!!r[En]}function Jr(r){return r?C0(r)||Array.isArray(r)||!!r[gE]||!!r.constructor?.[gE]||nf(r)||rf(r):!1}var YR=Object.prototype.constructor.toString();function C0(r){if(!r||typeof r!="object")return!1;const e=co(r);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===YR}function Rh(r,e){tf(r)===0?Reflect.ownKeys(r).forEach(n=>{e(n,r[n],r)}):r.forEach((n,s)=>e(s,n,r))}function tf(r){const e=r[En];return e?e.type_:Array.isArray(r)?1:nf(r)?2:rf(r)?3:0}function ip(r,e){return tf(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function I0(r,e,n){const s=tf(r);s===2?r.set(e,n):s===3?r.add(n):r[e]=n}function XR(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function nf(r){return r instanceof Map}function rf(r){return r instanceof Set}function qs(r){return r.copy_||r.base_}function sp(r,e){if(nf(r))return new Map(r);if(rf(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const n=C0(r);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(r);delete s[En];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const f=o[u],m=s[f];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(s[f]={configurable:!0,writable:!0,enumerable:m.enumerable,value:r[f]})}return Object.create(co(r),s)}else{const s=co(r);if(s!==null&&n)return{...r};const o=Object.create(s);return Object.assign(o,r)}}function Qp(r,e=!1){return sf(r)||Qs(r)||!Jr(r)||(tf(r)>1&&(r.set=r.add=r.clear=r.delete=$R),Object.freeze(r),e&&Object.entries(r).forEach(([n,s])=>Qp(s,!0))),r}function $R(){Hn(2)}function sf(r){return Object.isFrozen(r)}var WR={};function Ys(r){const e=WR[r];return e||Hn(0,r),e}var tu;function D0(){return tu}function ZR(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yE(r,e){e&&(Ys("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function ap(r){op(r),r.drafts_.forEach(JR),r.drafts_=null}function op(r){r===tu&&(tu=r.parent_)}function _E(r){return tu=ZR(tu,r)}function JR(r){const e=r[En];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vE(r,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return r!==void 0&&r!==n?(n[En].modified_&&(ap(e),Hn(4)),Jr(r)&&(r=Ch(e,r),e.parent_||Ih(e,r)),e.patches_&&Ys("Patches").generateReplacementPatches_(n[En].base_,r,e.patches_,e.inversePatches_)):r=Ch(e,n,[]),ap(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==R0?r:void 0}function Ch(r,e,n){if(sf(e))return e;const s=e[En];if(!s)return Rh(e,(o,u)=>EE(r,s,e,o,u,n)),e;if(s.scope_!==r)return e;if(!s.modified_)return Ih(r,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,f=!1;s.type_===3&&(u=new Set(o),o.clear(),f=!0),Rh(u,(m,p)=>EE(r,s,o,m,p,n,f)),Ih(r,o,!1),n&&r.patches_&&Ys("Patches").generatePatches_(s,n,r.patches_,r.inversePatches_)}return s.copy_}function EE(r,e,n,s,o,u,f){if(Qs(o)){const m=u&&e&&e.type_!==3&&!ip(e.assigned_,s)?u.concat(s):void 0,p=Ch(r,o,m);if(I0(n,s,p),Qs(p))r.canAutoFreeze_=!1;else return}else f&&n.add(o);if(Jr(o)&&!sf(o)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Ch(r,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,s)&&Ih(r,o)}}function Ih(r,e,n=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Qp(e,n)}function eC(r,e){const n=Array.isArray(r),s={type_:n?1:0,scope_:e?e.scope_:D0(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=Yp;n&&(o=[s],u=nu);const{revoke:f,proxy:m}=Proxy.revocable(o,u);return s.draft_=m,s.revoke_=f,m}var Yp={get(r,e){if(e===En)return r;const n=qs(r);if(!ip(n,e))return tC(r,n,e);const s=n[e];return r.finalized_||!Jr(s)?s:s===Bm(r.base_,e)?(jm(r),r.copy_[e]=up(s,r)):s},has(r,e){return e in qs(r)},ownKeys(r){return Reflect.ownKeys(qs(r))},set(r,e,n){const s=O0(qs(r),e);if(s?.set)return s.set.call(r.draft_,n),!0;if(!r.modified_){const o=Bm(qs(r),e),u=o?.[En];if(u&&u.base_===n)return r.copy_[e]=n,r.assigned_[e]=!1,!0;if(XR(n,o)&&(n!==void 0||ip(r.base_,e)))return!0;jm(r),lp(r)}return r.copy_[e]===n&&(n!==void 0||e in r.copy_)||Number.isNaN(n)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=n,r.assigned_[e]=!0),!0},deleteProperty(r,e){return Bm(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,jm(r),lp(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const n=qs(r),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){Hn(11)},getPrototypeOf(r){return co(r.base_)},setPrototypeOf(){Hn(12)}},nu={};Rh(Yp,(r,e)=>{nu[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});nu.deleteProperty=function(r,e){return nu.set.call(this,r,e,void 0)};nu.set=function(r,e,n){return Yp.set.call(this,r[0],e,n,r[0])};function Bm(r,e){const n=r[En];return(n?qs(n):r)[e]}function tC(r,e,n){const s=O0(e,n);return s?"value"in s?s.value:s.get?.call(r.draft_):void 0}function O0(r,e){if(!(e in r))return;let n=co(r);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=co(n)}}function lp(r){r.modified_||(r.modified_=!0,r.parent_&&lp(r.parent_))}function jm(r){r.copy_||(r.copy_=sp(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var nC=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const u=n;n=e;const f=this;return function(p=u,...g){return f.produce(p,E=>n.call(this,E,...g))}}typeof n!="function"&&Hn(6),s!==void 0&&typeof s!="function"&&Hn(7);let o;if(Jr(e)){const u=_E(this),f=up(e,void 0);let m=!0;try{o=n(f),m=!1}finally{m?ap(u):op(u)}return yE(u,s),vE(o,u)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===R0&&(o=void 0),this.autoFreeze_&&Qp(o,!0),s){const u=[],f=[];Ys("Patches").generateReplacementPatches_(e,o,u,f),s(u,f)}return o}else Hn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(f,...m)=>this.produceWithPatches(f,p=>e(p,...m));let s,o;return[this.produce(e,n,(f,m)=>{s=f,o=m}),s,o]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Jr(r)||Hn(8),Qs(r)&&(r=rC(r));const e=_E(this),n=up(r,void 0);return n[En].isManual_=!0,op(e),n}finishDraft(r,e){const n=r&&r[En];(!n||!n.isManual_)&&Hn(9);const{scope_:s}=n;return yE(s,e),vE(void 0,s)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}n>-1&&(e=e.slice(n+1));const s=Ys("Patches").applyPatches_;return Qs(r)?s(r,e):this.produce(r,o=>s(o,e))}};function up(r,e){const n=nf(r)?Ys("MapSet").proxyMap_(r,e):rf(r)?Ys("MapSet").proxySet_(r,e):eC(r,e);return(e?e.scope_:D0()).drafts_.push(n),n}function rC(r){return Qs(r)||Hn(10,r),N0(r)}function N0(r){if(!Jr(r)||sf(r))return r;const e=r[En];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=sp(r,e.scope_.immer_.useStrictShallowCopy_)}else n=sp(r,!0);return Rh(n,(s,o)=>{I0(n,s,N0(o))}),e&&(e.finalized_=!1),n}var Tn=new nC,M0=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseStrictShallowCopy.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function V0(r){return({dispatch:n,getState:s})=>o=>u=>typeof u=="function"?u(n,s,r):o(u)}var iC=V0(),sC=V0,aC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bh:bh.apply(null,arguments)},oC=r=>r&&typeof r.match=="function";function Ql(r,e){function n(...s){if(e){let o=e(...s);if(!o)throw new Error($r(0));return{type:r,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:r,payload:s[0]}}return n.toString=()=>`${r}`,n.type=r,n.match=s=>QR(s)&&s.type===r,n}var x0=class jl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jl.prototype)}static get[Symbol.species](){return jl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jl(...e[0].concat(this)):new jl(...e.concat(this))}};function TE(r){return Jr(r)?M0(r,()=>{}):r}function eh(r,e,n){return r.has(e)?r.get(e):r.set(e,n(e)).get(e)}function lC(r){return typeof r=="boolean"}var uC=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let f=new x0;return n&&(lC(n)?f.push(iC):f.push(sC(n.extraArgument))),f},cC="RTK_autoBatch",SE=r=>e=>{setTimeout(e,r)},hC=(r={type:"raf"})=>e=>(...n)=>{const s=e(...n);let o=!0,u=!1,f=!1;const m=new Set,p=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:SE(10):r.type==="callback"?r.queueNotification:SE(r.timeout),g=()=>{f=!1,u&&(u=!1,m.forEach(E=>E()))};return Object.assign({},s,{subscribe(E){const A=()=>o&&E(),w=s.subscribe(A);return m.add(E),()=>{w(),m.delete(E)}},dispatch(E){try{return o=!E?.meta?.[cC],u=!o,u&&(f||(f=!0,p(g))),s.dispatch(E)}finally{o=!0}}})},fC=r=>function(n){const{autoBatch:s=!0}=n??{};let o=new x0(r);return s&&o.push(hC(typeof s=="object"?s:void 0)),o};function dC(r){const e=uC(),{reducer:n=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:f=void 0}=r||{};let m;if(typeof n=="function")m=n;else if(Kp(n))m=GR(n);else throw new Error($r(1));let p;typeof s=="function"?p=s(e):p=e();let g=bh;o&&(g=aC({trace:!1,...typeof o=="object"&&o}));const E=KR(...p),A=fC(E);let w=typeof f=="function"?f(A):A();const x=g(...w);return b0(m,u,x)}function P0(r){const e={},n=[];let s;const o={addCase(u,f){const m=typeof u=="string"?u:u.type;if(!m)throw new Error($r(28));if(m in e)throw new Error($r(29));return e[m]=f,o},addMatcher(u,f){return n.push({matcher:u,reducer:f}),o},addDefaultCase(u){return s=u,o}};return r(o),[e,n,s]}function mC(r){return typeof r=="function"}function pC(r,e){let[n,s,o]=P0(e),u;if(mC(r))u=()=>TE(r());else{const m=TE(r);u=()=>m}function f(m=u(),p){let g=[n[p.type],...s.filter(({matcher:E})=>E(p)).map(({reducer:E})=>E)];return g.filter(E=>!!E).length===0&&(g=[o]),g.reduce((E,A)=>{if(A)if(Qs(E)){const x=A(E,p);return x===void 0?E:x}else{if(Jr(E))return M0(E,w=>A(w,p));{const w=A(E,p);if(w===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return E},m)}return f.getInitialState=u,f}var gC=(r,e)=>oC(r)?r.match(e):r(e);function yC(...r){return e=>r.some(n=>gC(n,e))}var _C="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",vC=(r=21)=>{let e="",n=r;for(;n--;)e+=_C[Math.random()*64|0];return e},EC=["name","message","stack","code"],qm=class{constructor(r,e){this.payload=r,this.meta=e}_type},AE=class{constructor(r,e){this.payload=r,this.meta=e}_type},TC=r=>{if(typeof r=="object"&&r!==null){const e={};for(const n of EC)typeof r[n]=="string"&&(e[n]=r[n]);return e}return{message:String(r)}},wE="External signal was aborted",ra=(()=>{function r(e,n,s){const o=Ql(e+"/fulfilled",(p,g,E,A)=>({payload:p,meta:{...A||{},arg:E,requestId:g,requestStatus:"fulfilled"}})),u=Ql(e+"/pending",(p,g,E)=>({payload:void 0,meta:{...E||{},arg:g,requestId:p,requestStatus:"pending"}})),f=Ql(e+"/rejected",(p,g,E,A,w)=>({payload:A,error:(s&&s.serializeError||TC)(p||"Rejected"),meta:{...w||{},arg:E,requestId:g,rejectedWithValue:!!A,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function m(p,{signal:g}={}){return(E,A,w)=>{const x=s?.idGenerator?s.idGenerator(p):vC(),U=new AbortController;let Q,j;function G($){j=$,U.abort()}g&&(g.aborted?G(wE):g.addEventListener("abort",()=>G(wE),{once:!0}));const re=async function(){let $;try{let ne=s?.condition?.(p,{getState:A,extra:w});if(AC(ne)&&(ne=await ne),ne===!1||U.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const ge=new Promise((D,b)=>{Q=()=>{b({name:"AbortError",message:j||"Aborted"})},U.signal.addEventListener("abort",Q)});E(u(x,p,s?.getPendingMeta?.({requestId:x,arg:p},{getState:A,extra:w}))),$=await Promise.race([ge,Promise.resolve(n(p,{dispatch:E,getState:A,extra:w,requestId:x,signal:U.signal,abort:G,rejectWithValue:(D,b)=>new qm(D,b),fulfillWithValue:(D,b)=>new AE(D,b)})).then(D=>{if(D instanceof qm)throw D;return D instanceof AE?o(D.payload,x,p,D.meta):o(D,x,p)})])}catch(ne){$=ne instanceof qm?f(null,x,p,ne.payload,ne.meta):f(ne,x,p)}finally{Q&&U.signal.removeEventListener("abort",Q)}return s&&!s.dispatchConditionRejection&&f.match($)&&$.meta.condition||E($),$}();return Object.assign(re,{abort:G,requestId:x,arg:p,unwrap(){return re.then(SC)}})}}return Object.assign(m,{pending:u,rejected:f,fulfilled:o,settled:yC(f,o),typePrefix:e})}return r.withTypes=()=>r,r})();function SC(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function AC(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var wC=Symbol.for("rtk-slice-createasyncthunk");function bC(r,e){return`${r}/${e}`}function RC({creators:r}={}){const e=r?.asyncThunk?.[wC];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error($r(11));const f=(typeof s.reducers=="function"?s.reducers(IC()):s.reducers)||{},m=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase($,ue){const ne=typeof $=="string"?$:$.type;if(!ne)throw new Error($r(12));if(ne in p.sliceCaseReducersByType)throw new Error($r(13));return p.sliceCaseReducersByType[ne]=ue,g},addMatcher($,ue){return p.sliceMatchers.push({matcher:$,reducer:ue}),g},exposeAction($,ue){return p.actionCreators[$]=ue,g},exposeCaseReducer($,ue){return p.sliceCaseReducersByName[$]=ue,g}};m.forEach($=>{const ue=f[$],ne={reducerName:$,type:bC(o,$),createNotation:typeof s.reducers=="function"};OC(ue)?MC(ne,ue,g,e):DC(ne,ue,g)});function E(){const[$={},ue=[],ne=void 0]=typeof s.extraReducers=="function"?P0(s.extraReducers):[s.extraReducers],ge={...$,...p.sliceCaseReducersByType};return pC(s.initialState,D=>{for(let b in ge)D.addCase(b,ge[b]);for(let b of p.sliceMatchers)D.addMatcher(b.matcher,b.reducer);for(let b of ue)D.addMatcher(b.matcher,b.reducer);ne&&D.addDefaultCase(ne)})}const A=$=>$,w=new Map,x=new WeakMap;let U;function Q($,ue){return U||(U=E()),U($,ue)}function j(){return U||(U=E()),U.getInitialState()}function G($,ue=!1){function ne(D){let b=D[$];return typeof b>"u"&&ue&&(b=eh(x,ne,j)),b}function ge(D=A){const b=eh(w,ue,()=>new WeakMap);return eh(b,D,()=>{const R={};for(const[M,V]of Object.entries(s.selectors??{}))R[M]=CC(V,D,()=>eh(x,D,j),ue);return R})}return{reducerPath:$,getSelectors:ge,get selectors(){return ge(ne)},selectSlice:ne}}const re={name:o,reducer:Q,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:j,...G(u),injectInto($,{reducerPath:ue,...ne}={}){const ge=ue??u;return $.inject({reducerPath:ge,reducer:Q},ne),{...re,...G(ge,!0)}}};return re}}function CC(r,e,n,s){function o(u,...f){let m=e(u);return typeof m>"u"&&s&&(m=n()),r(m,...f)}return o.unwrapped=r,o}var k0=RC();function IC(){function r(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:r}}function DC({type:r,reducerName:e,createNotation:n},s,o){let u,f;if("reducer"in s){if(n&&!NC(s))throw new Error($r(17));u=s.reducer,f=s.prepare}else u=s;o.addCase(r,u).exposeCaseReducer(e,u).exposeAction(e,f?Ql(r,f):Ql(r))}function OC(r){return r._reducerDefinitionType==="asyncThunk"}function NC(r){return r._reducerDefinitionType==="reducerWithPrepare"}function MC({type:r,reducerName:e},n,s,o){if(!o)throw new Error($r(18));const{payloadCreator:u,fulfilled:f,pending:m,rejected:p,settled:g,options:E}=n,A=o(r,u,E);s.exposeAction(e,A),f&&s.addCase(A.fulfilled,f),m&&s.addCase(A.pending,m),p&&s.addCase(A.rejected,p),g&&s.addMatcher(A.settled,g),s.exposeCaseReducer(e,{fulfilled:f||th,pending:m||th,rejected:p||th,settled:g||th})}function th(){}function $r(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const VC=()=>{};var bE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},xC=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,x=g&63;p||(x=64,f||(w=64)),s.push(n[E],n[A],n[w],n[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(L0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new PC;const w=u<<2|m>>4;if(s.push(w),g!==64){const x=m<<4&240|g>>2;if(s.push(x),A!==64){const U=g<<6&192|A;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class PC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kC=function(r){const e=L0(r);return U0.encodeByteArray(e,!0)},Dh=function(r){return kC(r).replace(/\./g,"")},z0=function(r){try{return U0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=()=>LC().__FIREBASE_DEFAULTS__,zC=()=>{if(typeof process>"u"||typeof bE>"u")return;const r=bE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&z0(r[1]);return e&&JSON.parse(e)},af=()=>{try{return VC()||UC()||zC()||BC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},B0=r=>af()?.emulatorHosts?.[r],jC=r=>{const e=B0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},j0=()=>af()?.config,q0=r=>af()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Dh(JSON.stringify(n)),Dh(JSON.stringify(f)),""].join(".")}const Yl={};function FC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?r.emulator.push(e):r.prod.push(e);return r}function GC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let RE=!1;function F0(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Yl[r]===e||Yl[r]||RE)return;Yl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=FC().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{RE=!0,f()},w}function E(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=GC(s),x=n("text"),U=document.getElementById(x)||document.createElement("span"),Q=n("learnmore"),j=document.getElementById(Q)||document.createElement("a"),G=n("preprendIcon"),re=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;m($),E(j,Q);const ue=g();p(re,G),$.append(re,U,j,ue),document.body.appendChild($)}u?(U.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function QC(){const r=af()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WC(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZC(){return!QC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JC(){try{return typeof indexedDB=="object"}catch{return!1}}function eI(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="FirebaseError";class si extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=tI,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?nI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new si(o,m,s)}}function nI(r,e){return r.replace(rI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rI=/\{\$([^}]+)}/g;function iI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(CE(u)&&CE(f)){if(!Xs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function CE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function sI(r,e){const n=new aI(r,e);return n.subscribe.bind(n)}class aI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");oI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Hm),o.error===void 0&&(o.error=Hm),o.complete===void 0&&(o.complete=Hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(r){return r&&r._delegate?r._delegate:r}class $s{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cI(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(r){return r===Hs?void 0:r}function cI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const fI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},dI=Me.INFO,mI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},pI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=mI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=dI,this._logHandler=pI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const gI=(r,e)=>e.some(n=>r instanceof n);let IE,DE;function yI(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _I(){return DE||(DE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,cp=new WeakMap,K0=new WeakMap,Fm=new WeakMap,$p=new WeakMap;function vI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ji(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&G0.set(n,r)}).catch(()=>{}),$p.set(e,r),e}function EI(r){if(cp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});cp.set(r,e)}let hp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return cp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||K0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TI(r){hp=r(hp)}function SI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Gm(this),e,...n);return K0.set(s,e.sort?e.sort():[e]),ji(s)}:_I().includes(r)?function(...e){return r.apply(Gm(this),e),ji(G0.get(this))}:function(...e){return ji(r.apply(Gm(this),e))}}function AI(r){return typeof r=="function"?SI(r):(r instanceof IDBTransaction&&EI(r),gI(r,yI())?new Proxy(r,hp):r)}function ji(r){if(r instanceof IDBRequest)return vI(r);if(Fm.has(r))return Fm.get(r);const e=AI(r);return e!==r&&(Fm.set(r,e),$p.set(e,r)),e}const Gm=r=>$p.get(r);function wI(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ji(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ji(f.result),p.oldVersion,p.newVersion,ji(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const bI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],Km=new Map;function OE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||bI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Km.set(e,u),u}TI(r=>({...r,get:(e,n,s)=>OE(e,n)||r.get(e,n,s),has:(e,n)=>!!OE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(II(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function II(r){return r.getComponent()?.type==="VERSION"}const fp="@firebase/app",NE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Xp("@firebase/app"),DI="@firebase/app-compat",OI="@firebase/analytics-compat",NI="@firebase/analytics",MI="@firebase/app-check-compat",VI="@firebase/app-check",xI="@firebase/auth",PI="@firebase/auth-compat",kI="@firebase/database",LI="@firebase/data-connect",UI="@firebase/database-compat",zI="@firebase/functions",BI="@firebase/functions-compat",jI="@firebase/installations",qI="@firebase/installations-compat",HI="@firebase/messaging",FI="@firebase/messaging-compat",GI="@firebase/performance",KI="@firebase/performance-compat",QI="@firebase/remote-config",YI="@firebase/remote-config-compat",XI="@firebase/storage",$I="@firebase/storage-compat",WI="@firebase/firestore",ZI="@firebase/ai",JI="@firebase/firestore-compat",e2="firebase",t2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",n2={[fp]:"fire-core",[DI]:"fire-core-compat",[NI]:"fire-analytics",[OI]:"fire-analytics-compat",[VI]:"fire-app-check",[MI]:"fire-app-check-compat",[xI]:"fire-auth",[PI]:"fire-auth-compat",[kI]:"fire-rtdb",[LI]:"fire-data-connect",[UI]:"fire-rtdb-compat",[zI]:"fire-fn",[BI]:"fire-fn-compat",[jI]:"fire-iid",[qI]:"fire-iid-compat",[HI]:"fire-fcm",[FI]:"fire-fcm-compat",[GI]:"fire-perf",[KI]:"fire-perf-compat",[QI]:"fire-rc",[YI]:"fire-rc-compat",[XI]:"fire-gcs",[$I]:"fire-gcs-compat",[WI]:"fire-fst",[JI]:"fire-fst-compat",[ZI]:"fire-vertex","fire-js":"fire-js",[e2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,r2=new Map,mp=new Map;function ME(r,e){try{r.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if(mp.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,r);for(const n of Oh.values())ME(n,r);for(const n of r2.values())ME(n,r);return!0}function Wp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new pu("app","Firebase",i2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=t2;function Q0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:dp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(n||(n=j0()),!n)throw qi.create("no-options");const u=Oh.get(o);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw qi.create("duplicate-app",{appName:o})}const f=new hI(o);for(const p of mp.values())f.addComponent(p);const m=new s2(n,s,f);return Oh.set(o,m),m}function Y0(r=dp){const e=Oh.get(r);if(!e&&r===dp&&j0())return Q0();if(!e)throw qi.create("no-app",{appName:r});return e}function Hi(r,e,n){let s=n2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(f.join(" "));return}ho(new $s(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebase-heartbeat-database",o2=1,ru="firebase-heartbeat-store";let Qm=null;function X0(){return Qm||(Qm=wI(a2,o2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw qi.create("idb-open",{originalErrorMessage:r.message})})),Qm}async function l2(r){try{const n=(await X0()).transaction(ru),s=await n.objectStore(ru).get($0(r));return await n.done,s}catch(e){if(e instanceof si)ei.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(n.message)}}}async function VE(r,e){try{const s=(await X0()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,$0(r)),await s.done}catch(n){if(n instanceof si)ei.warn(n.message);else{const s=qi.create("idb-set",{originalErrorMessage:n?.message});ei.warn(s.message)}}}function $0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=1024,c2=30;class h2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>c2){const o=m2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xE(),{heartbeatsToSend:n,unsentEntries:s}=f2(this._heartbeatsCache.heartbeats),o=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ei.warn(e),""}}}function xE(){return new Date().toISOString().substring(0,10)}function f2(r,e=u2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),PE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),PE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class d2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JC()?eI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return VE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return VE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function PE(r){return Dh(JSON.stringify({version:2,heartbeats:r})).length}function m2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(r){ho(new $s("platform-logger",e=>new CI(e),"PRIVATE")),ho(new $s("heartbeat",e=>new h2(e),"PRIVATE")),Hi(fp,NE,r),Hi(fp,NE,"esm2020"),Hi("fire-js","")}p2("");function W0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=W0,Z0=new pu("auth","Firebase",W0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Xp("@firebase/auth");function y2(r,...e){Nh.logLevel<=Me.WARN&&Nh.warn(`Auth (${So}): ${r}`,...e)}function fh(r,...e){Nh.logLevel<=Me.ERROR&&Nh.error(`Auth (${So}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r,...e){throw Zp(r,...e)}function fr(r,...e){return Zp(r,...e)}function J0(r,e,n){const s={...g2(),[e]:n};return new pu("auth","Firebase",s).create(e,{appName:r.name})}function Wr(r){return J0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Z0.create(r,...e)}function Ee(r,e,...n){if(!r)throw Zp(e,...n)}function Qr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function ti(r,e){r||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){return typeof self<"u"&&self.location?.href||""}function _2(){return kE()==="http:"||kE()==="https:"}function kE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||XC()||"connection"in navigator)?navigator.onLine:!0}function E2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=KC()||$C()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e){ti(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A2=new yu(3e4,6e4);function ts(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ns(r,e,n,s,o={}){return tS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=gu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return YC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(g.credentials="include"),eS.fetch()(await nS(r,r.config.apiHost,n,m),g)})}async function tS(r,e,n){r._canInitEmulator=!1;const s={...T2,...e};try{const o=new b2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw J0(r,E,g);Kn(r,E)}}catch(o){if(o instanceof si)throw o;Kn(r,"network-request-failed",{message:String(o)})}}async function _u(r,e,n,s,o={}){const u=await ns(r,e,n,s,o);return"mfaPendingCredential"in u&&Kn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function nS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Jp(r.config,o):`${r.config.apiScheme}://${o}`;return S2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function w2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fr(this.auth,"network-request-failed")),A2.get())})}}function nh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=fr(r,e,s);return o.customData._tokenResponse=n,o}function LE(r){return r!==void 0&&r.enterprise!==void 0}class R2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C2(r,e){return ns(r,"GET","/v2/recaptchaConfig",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r,e){return ns(r,"POST","/v1/accounts:delete",e)}async function Mh(r,e){return ns(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D2(r,e=!1){const n=kt(r),s=await n.getIdToken(e),o=eg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Xl(Ym(o.auth_time)),issuedAtTime:Xl(Ym(o.iat)),expirationTime:Xl(Ym(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ym(r){return Number(r)*1e3}function eg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=z0(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function UE(r){const e=eg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof si&&O2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function O2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(r){const e=r.auth,n=await r.getIdToken(),s=await iu(r,Mh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?rS(o.providerUserInfo):[],f=V2(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function M2(r){const e=kt(r);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function rS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(r,e){const n=await tS(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await nS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(p.credentials="include"),eS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P2(r,e){return ns(r,"POST","/v2/accounts:revokeToken",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=UE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await x2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new io;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new N2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D2(this,e)}reload(){return M2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await iu(this,I2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:x,providerData:U,stsTokenManager:Q}=n;Ee(A&&Q,e,"internal-error");const j=io.fromJSON(this.name,Q);Ee(typeof A=="string",e,"internal-error"),Pi(s,e.name),Pi(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof x=="boolean",e,"internal-error"),Pi(u,e.name),Pi(f,e.name),Pi(m,e.name),Pi(p,e.name),Pi(g,e.name),Pi(E,e.name);const G=new Fn({uid:A,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:x,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:E});return U&&Array.isArray(U)&&(G.providerData=U.map(re=>({...re}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(e,n,s=!1){const o=new io;o.updateFromServerResponse(n);const u=new Fn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new io;m.updateFromIdToken(s);const p=new Fn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;function Yr(r){ti(r instanceof Function,"Expected a class definition");let e=zE.get(r);return e?(ti(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,zE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iS.type="NONE";const BE=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class so{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new so(Yr(BE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Yr(BE);const f=dh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const w=await Mh(e,{idToken:E}).catch(()=>{});if(!w)break;A=await Fn._fromGetAccountInfoResponse(e,w,E)}else A=Fn._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new so(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cS(e))return"Blackberry";if(hS(e))return"Webos";if(aS(e))return"Safari";if((e.includes("chrome/")||oS(e))&&!e.includes("edge/"))return"Chrome";if(uS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function sS(r=Jt()){return/firefox\//i.test(r)}function aS(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oS(r=Jt()){return/crios\//i.test(r)}function lS(r=Jt()){return/iemobile/i.test(r)}function uS(r=Jt()){return/android/i.test(r)}function cS(r=Jt()){return/blackberry/i.test(r)}function hS(r=Jt()){return/webos/i.test(r)}function tg(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function k2(r=Jt()){return tg(r)&&!!window.navigator?.standalone}function L2(){return WC()&&document.documentMode===10}function fS(r=Jt()){return tg(r)||uS(r)||hS(r)||cS(r)||/windows phone/i.test(r)||lS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r,e=[]){let n;switch(r){case"Browser":n=jE(Jt());break;case"Worker":n=`${jE(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(r,e={}){return ns(r,"GET","/v2/passwordPolicy",ts(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=6;class j2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??B2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new U2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Wr(this));const n=e?kt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z2(this),n=new j2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await P2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&y2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ia(r){return kt(r)}class qE{constructor(e){this.auth=e,this.observer=null,this.addObserver=sI(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H2(r){of=r}function mS(r){return of.loadJS(r)}function F2(){return of.recaptchaEnterpriseScript}function G2(){return of.gapiScript}function K2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Q2{constructor(){this.enterprise=new Y2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Y2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const X2="recaptcha-enterprise",pS="NO_RECAPTCHA";class $2{constructor(e){this.type=X2,this.auth=ia(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{C2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new R2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;LE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(pS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Q2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&LE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=F2();p.length!==0&&(p+=m),mS(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function HE(r,e,n,s=!1,o=!1){const u=new $2(r);let f;if(o)f=pS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function yp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await HE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await HE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(r,e){const n=Wp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:e})}function Z2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Yr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function J2(r,e,n){const s=ia(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=gS(e),{host:f,port:m}=eD(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Xs(g,s.config.emulator)&&Xs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,To(f)?(H0(`${u}//${f}${p}`),F0("Auth",!0)):tD()}function gS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function eD(r){const e=gS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:FE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:FE(f)}}}function FE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function tD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function nD(r,e){return ns(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(r,e){return _u(r,"POST","/v1/accounts:signInWithPassword",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(r,e){return _u(r,"POST","/v1/accounts:signInWithEmailLink",ts(r,e))}async function sD(r,e){return _u(r,"POST","/v1/accounts:signInWithEmailLink",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends ng{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new su(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,n,"signInWithPassword",rD);case"emailLink":return iD(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,s,"signUpPassword",nD);case"emailLink":return sD(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r,e){return _u(r,"POST","/v1/accounts:signInWithIdp",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="http://localhost";class Ws extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ws(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:aD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lD(r){const e=ql(Hl(r)).link,n=e?ql(Hl(e)).deep_link_id:null,s=ql(Hl(r)).deep_link_id;return(s?ql(Hl(s)).link:null)||s||n||e||r}class rg{constructor(e){const n=ql(Hl(e)),s=n.apiKey??null,o=n.oobCode??null,u=oD(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lD(e);try{return new rg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rg.parseLink(n);return Ee(s,"argument-error"),su._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends yS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends vu{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Li.credential(n,s)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends vu{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends vu{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(r,e){return _u(r,"POST","/v1/accounts:signUp",ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Fn._fromIdTokenResponse(e,s,o),f=GE(s);return new Zs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=GE(s);return new Zs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function GE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends si{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xh(e,n,s,o)}}function _S(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(r,u,e,s):u})}async function cD(r,e,n=!1){const s=await iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Zs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(r,e,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(Wr(s));const o="reauthenticate";try{const u=await iu(r,_S(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=eg(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),Zs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(r,e,n=!1){if(Pn(r.app))return Promise.reject(Wr(r));const s="signIn",o=await _S(r,s,e),u=await Zs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function fD(r,e){return vS(ia(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(r){const e=ia(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dD(r,e,n){if(Pn(r.app))return Promise.reject(Wr(r));const s=ia(r),f=await yp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ES(r),p}),m=await Zs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function mD(r,e,n){return Pn(r.app)?Promise.reject(Wr(r)):fD(kt(r),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ES(r),s})}function pD(r,e,n,s){return kt(r).onIdTokenChanged(e,n,s)}function gD(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}function yD(r,e,n,s){return kt(r).onAuthStateChanged(e,n,s)}function _D(r){return kt(r).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=1e3,ED=10;class SS extends TS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);L2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ED):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},vD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SS.type="LOCAL";const TD=SS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends TS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AS.type="SESSION";const wS=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await SD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=ig("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function wD(r){dr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function bD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RD(){return navigator?.serviceWorker?.controller||null}function CD(){return bS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebaseLocalStorageDb",ID=1,kh="firebaseLocalStorage",CS="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uf(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function DD(){const r=indexedDB.deleteDatabase(RS);return new Eu(r).toPromise()}function _p(){const r=indexedDB.open(RS,ID);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:CS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await DD(),e(await _p()))})})}async function KE(r,e,n){const s=uf(r,!0).put({[CS]:e,value:n});return new Eu(s).toPromise()}async function OD(r,e){const n=uf(r,!1).get(e),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function QE(r,e){const n=uf(r,!0).delete(e);return new Eu(n).toPromise()}const ND=800,MD=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>MD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(CD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bD(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await KE(e,Ph,"1"),await QE(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>KE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>OD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=uf(o,!1).getAll();return new Eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ND)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const VD=IS;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(r,e){return e?Yr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PD(r){return vS(r.auth,new sg(r),r.bypassAuthState)}function kD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),hD(n,new sg(r),r.bypassAuthState)}async function LD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),cD(n,new sg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return LD;case"reauthViaPopup":case"reauthViaRedirect":return kD;default:Kn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new yu(2e3,1e4);class ro extends DS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UD.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="pendingRedirect",mh=new Map;class BD extends DS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await jD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jD(r,e){const n=FD(e),s=HD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function qD(r,e){mh.set(r._key(),e)}function HD(r){return Yr(r._redirectPersistence)}function FD(r){return dh(zD,r.config.apiKey,r.name)}async function GD(r,e,n=!1){if(Pn(r.app))return Promise.reject(Wr(r));const s=ia(r),o=xD(s,e),f=await new BD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=10*60*1e3;class QD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!OS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KD&&this.cachedEventUids.clear(),this.cachedEventUids.has(YE(e))}saveEventToCache(e){this.cachedEventUids.add(YE(e)),this.lastProcessedEventTime=Date.now()}}function YE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function OS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function YD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(r,e={}){return ns(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WD=/^https?/;async function ZD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await XD(r);for(const n of e)try{if(JD(n))return}catch{}Kn(r,"unauthorized-domain")}function JD(r){const e=pp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!WD.test(n))return!1;if($D.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new yu(3e4,6e4);function XE(){const r=dr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function tO(r){return new Promise((e,n)=>{function s(){XE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XE(),n(fr(r,"network-request-failed"))},timeout:eO.get()})}if(dr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(dr().gapi?.load)s();else{const o=K2("iframefcb");return dr()[o]=()=>{gapi.load?s():n(fr(r,"network-request-failed"))},mS(`${G2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ph=null,e})}let ph=null;function nO(r){return ph=ph||tO(r),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new yu(5e3,15e3),iO="__/auth/iframe",sO="emulator/auth/iframe",aO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lO(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Jp(e,sO):`https://${r.config.authDomain}/${iO}`,s={apiKey:e.apiKey,appName:r.name,v:So},o=oO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function uO(r){const e=await nO(r),n=dr().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:lO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=fr(r,"network-request-failed"),m=dr().setTimeout(()=>{u(f)},rO.get());function p(){dr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hO=500,fO=600,dO="_blank",mO="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pO(r,e,n,s=hO,o=fO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...cO,width:s.toString(),height:o.toString(),top:u,left:f},g=Jt().toLowerCase();n&&(m=oS(g)?dO:n),sS(g)&&(e=e||mO,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[x,U])=>`${w}${x}=${U},`,"");if(k2(g)&&m!=="_self")return gO(e||"",m),new $E(null);const A=window.open(e||"",m,E);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new $E(A)}function gO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="__/auth/handler",_O="emulator/auth/handler",vO=encodeURIComponent("fac");async function WE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:o};if(e instanceof yS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",iI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof vu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${vO}=${encodeURIComponent(p)}`:"";return`${EO(r)}?${gu(m).slice(1)}${g}`}function EO({config:r}){return r.emulator?Jp(r,_O):`https://${r.authDomain}/${yO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class TO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wS,this._completeRedirectFn=GD,this._overrideRedirectResult=qD}async _openPopup(e,n,s,o){ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await WE(e,n,s,pp(),o);return pO(e,u,ig())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await WE(e,n,s,pp(),o);return wD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ti(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await uO(e),s=new QD(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},o=>{const u=o?.[0]?.[Xm];u!==void 0&&n(!!u),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fS()||aS()||tg()}}const SO=TO;var ZE="@firebase/auth",JE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bO(r){ho(new $s("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dS(r)},g=new q2(s,o,u,p);return Z2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new $s("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(s=>new AO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(ZE,JE,wO(r)),Hi(ZE,JE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=5*60,CO=q0("authIdTokenMaxAge")||RO;let eT=null;const IO=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>CO)return;const o=n?.token;eT!==o&&(eT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cf(r=Y0()){const e=Wp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=W2(r,{popupRedirectResolver:SO,persistence:[VD,TD,wS]}),s=q0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=IO(u.toString());gD(n,f,()=>f(n.currentUser)),pD(n,m=>f(m))}}const o=B0("auth");return o&&J2(n,`http://${o}`),n}function DO(){return document.getElementsByTagName("head")?.[0]??document}H2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=fr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",DO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bO("Browser");var OO="firebase",NO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(OO,NO,"app");var tT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,NS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function R(){}R.prototype=b.prototype,D.D=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(M,V,k){for(var I=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)I[Lt-2]=arguments[Lt];return b.prototype[V].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);var M=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)M[V]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],V=D.g[2];var k=D.g[3],I=b+(k^R&(V^k))+M[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+M[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+M[2]+606105819&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+M[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(k^R&(V^k))+M[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+M[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+M[6]+2821735955&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+M[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(k^R&(V^k))+M[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+M[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+M[10]+4294925233&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+M[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(k^R&(V^k))+M[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(V^b&(R^V))+M[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=V+(R^k&(b^R))+M[14]+2792965006&4294967295,V=k+(I<<17&4294967295|I>>>15),I=R+(b^V&(k^b))+M[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=b+(V^k&(R^V))+M[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+M[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+M[11]+643717713&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+M[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^k&(R^V))+M[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+M[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+M[15]+3634488961&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+M[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^k&(R^V))+M[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+M[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+M[3]+4107603335&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+M[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(V^k&(R^V))+M[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^V&(b^R))+M[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=V+(b^R&(k^b))+M[7]+1735328473&4294967295,V=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(V^k))+M[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=b+(R^V^k)+M[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+M[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+M[11]+1839030562&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+M[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^k)+M[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+M[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+M[7]+4139469664&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+M[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^k)+M[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+M[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+M[3]+3572445317&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+M[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(R^V^k)+M[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^V)+M[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=V+(k^b^R)+M[15]+530742520&4294967295,V=k+(I<<16&4294967295|I>>>16),I=R+(V^k^b)+M[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=b+(V^(R|~k))+M[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+M[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+M[14]+2878612391&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+M[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~k))+M[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+M[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+M[10]+4293915773&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+M[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~k))+M[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+M[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+M[6]+2734768916&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+M[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=b+(V^(R|~k))+M[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~V))+M[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=V+(b^(k|~R))+M[2]+718787259&4294967295,V=k+(I<<15&4294967295|I>>>17),I=R+(k^(V|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+k&4294967295}s.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var R=b-this.blockSize,M=this.B,V=this.h,k=0;k<b;){if(V==0)for(;k<=R;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(M[V++]=D.charCodeAt(k++),V==this.blockSize){o(this,M),V=0;break}}else for(;k<b;)if(M[V++]=D[k++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var R=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=R&255,R/=256;for(this.u(D),D=Array(16),b=R=0;4>b;++b)for(var M=0;32>M;M+=8)D[R++]=this.g[b]>>>M&255;return D};function u(D,b){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function f(D,b){this.h=b;for(var R=[],M=!0,V=D.length-1;0<=V;V--){var k=D[V]|0;M&&k==b||(R[V]=k,M=!1)}this.g=R}var m={};function p(D){return-128<=D&&128>D?u(D,function(b){return new f([b|0],0>b?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return j(g(-D));for(var b=[],R=1,M=0;D>=R;M++)b[M]=D/R|0,R*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return j(E(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),M=A,V=0;V<D.length;V+=8){var k=Math.min(8,D.length-V),I=parseInt(D.substring(V,V+k),b);8>k?(k=g(Math.pow(b,k)),M=M.j(k).add(g(I))):(M=M.j(R),M=M.add(g(I)))}return M}var A=p(0),w=p(1),x=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-j(this).m();for(var D=0,b=1,R=0;R<this.g.length;R++){var M=this.i(R);D+=(0<=M?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(Q(this))return"-"+j(this).toString(D);for(var b=g(Math.pow(D,6)),R=this,M="";;){var V=ue(R,b).g;R=G(R,V.j(b));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=V,U(R))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function Q(D){return D.h==-1}r.l=function(D){return D=G(this,D),Q(D)?-1:U(D)?0:1};function j(D){for(var b=D.g.length,R=[],M=0;M<b;M++)R[M]=~D.g[M];return new f(R,~D.h).add(w)}r.abs=function(){return Q(this)?j(this):this},r.add=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],M=0,V=0;V<=b;V++){var k=M+(this.i(V)&65535)+(D.i(V)&65535),I=(k>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);M=I>>>16,k&=65535,I&=65535,R[V]=I<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function G(D,b){return D.add(j(b))}r.j=function(D){if(U(this)||U(D))return A;if(Q(this))return Q(D)?j(this).j(j(D)):j(j(this).j(D));if(Q(D))return j(this.j(j(D)));if(0>this.l(x)&&0>D.l(x))return g(this.m()*D.m());for(var b=this.g.length+D.g.length,R=[],M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<D.g.length;V++){var k=this.i(M)>>>16,I=this.i(M)&65535,Lt=D.i(V)>>>16,ot=D.i(V)&65535;R[2*M+2*V]+=I*ot,re(R,2*M+2*V),R[2*M+2*V+1]+=k*ot,re(R,2*M+2*V+1),R[2*M+2*V+1]+=I*Lt,re(R,2*M+2*V+1),R[2*M+2*V+2]+=k*Lt,re(R,2*M+2*V+2)}for(M=0;M<b;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=b;M<2*b;M++)R[M]=0;return new f(R,0)};function re(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function $(D,b){this.g=D,this.h=b}function ue(D,b){if(U(b))throw Error("division by zero");if(U(D))return new $(A,A);if(Q(D))return b=ue(j(D),b),new $(j(b.g),j(b.h));if(Q(b))return b=ue(D,j(b)),new $(j(b.g),b.h);if(30<D.g.length){if(Q(D)||Q(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=b;0>=M.l(D);)R=ne(R),M=ne(M);var V=ge(R,1),k=ge(M,1);for(M=ge(M,2),R=ge(R,2);!U(M);){var I=k.add(M);0>=I.l(D)&&(V=V.add(R),k=I),M=ge(M,1),R=ge(R,1)}return b=G(D,V.j(b)),new $(V,b)}for(V=A;0<=D.l(b);){for(R=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=g(R),I=k.j(b);Q(I)||0<I.l(D);)R-=M,k=g(R),I=k.j(b);U(k)&&(k=w),V=V.add(k),D=G(D,I)}return new $(V,D)}r.A=function(D){return ue(this,D).h},r.and=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)&D.i(M);return new f(R,this.h&D.h)},r.or=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)|D.i(M);return new f(R,this.h|D.h)},r.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)^D.i(M);return new f(R,this.h^D.h)};function ne(D){for(var b=D.g.length+1,R=[],M=0;M<b;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(R,D.h)}function ge(D,b){var R=b>>5;b%=32;for(var M=D.g.length-R,V=[],k=0;k<M;k++)V[k]=0<b?D.i(k+R)>>>b|D.i(k+R+1)<<32-b:D.i(k+R);return new f(V,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,NS=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Fi=f}).apply(typeof tT<"u"?tT:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MS,Fl,VS,gh,vp,xS,PS,kS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in _))break e;_=_[L]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,L={next:function(){if(!S&&_<c.length){var F=_++;return{value:y(F,c[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),c.apply(y,L)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,L,F){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return y.prototype[L].apply(S,se)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const L=c.length||0,F=S.length||0;c.length=L+F;for(let se=0;se<F;se++)c[L+se]=S[se]}else c.push(S)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ne=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ge(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(_ in S)c[_]=S[_];for(let F=0;F<R.length;F++)_=R[F],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Lt{constructor(){this.h=this.g=null}add(y,_){const S=ot.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new G(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Be=new Lt,O=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var y=ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ne){e:{try{ue(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}U(Ie,ie);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Yn(c,y,_,S,L){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=L,this.key=++Ze,this.da=this.fa=!1}function ai(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tr(c){this.src=c,this.g={},this.h=0}Tr.prototype.add=function(c,y,_,S,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var se=as(c,y,S,L);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Yn(y,this.src,F,!!S,L),y.fa=_,c.push(y)),y};function ss(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],L=Array.prototype.indexOf.call(S,y,void 0),F;(F=0<=L)&&Array.prototype.splice.call(S,L,1),F&&(ai(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function as(c,y,_,S){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==y&&F.capture==!!_&&F.ha==S)return L}return-1}var os="closure_lm_"+(1e6*Math.random()|0),Oo={};function Du(c,y,_,S,L){if(Array.isArray(y)){for(var F=0;F<y.length;F++)Du(c,y[F],_,S,L);return null}return _=Ou(_),c&&c[Dt]?c.K(y,_,g(S)?!!S.capture:!1,L):Sn(c,y,_,!1,S,L)}function Sn(c,y,_,S,L,F){if(!y)throw Error("Invalid event type");var se=g(L)?!!L.capture:!!L,Pe=la(c);if(Pe||(c[os]=Pe=new Tr(c)),_=Pe.add(y,_,S,se,F),_.proxy)return _;if(S=Df(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ye||(L=se),L===void 0&&(L=!1),c.addEventListener(y.toString(),S,L);else if(c.attachEvent)c.attachEvent(ls(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Df(){function c(_){return y.call(c.src,c.listener,_)}const y=Of;return c}function No(c,y,_,S,L){if(Array.isArray(y))for(var F=0;F<y.length;F++)No(c,y[F],_,S,L);else S=g(S)?!!S.capture:!!S,_=Ou(_),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(F=c.g[y],_=as(F,_,S,L),-1<_&&(ai(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[y],c.h--)))):c&&(c=la(c))&&(y=c.g[y.toString()],c=-1,y&&(c=as(y,_,S,L)),(_=-1<c?y[c]:null)&&oa(_))}function oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])ss(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(ls(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=la(y))?(ss(_,c),_.h==0&&(_.src=null,y[os]=null)):ai(c)}}}function ls(c){return c in Oo?Oo[c]:Oo[c]="on"+c}function Of(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&oa(c),c=_.call(S,y)}return c}function la(c){return c=c[os],c instanceof Tr?c:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ou(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(y){return c.handleEvent(y)}),c[Mo])}function lt(){le.call(this),this.i=new Tr(this),this.M=this,this.F=null}U(lt,le),lt.prototype[Dt]=!0,lt.prototype.removeEventListener=function(c,y,_,S){No(this,c,y,_,S)};function Fe(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var L=y;y=new ie(S,c),M(y,L)}if(L=!0,_)for(var F=_.length-1;0<=F;F--){var se=y.g=_[F];L=cn(se,S,!0,y)&&L}if(se=y.g=c,L=cn(se,S,!0,y)&&L,L=cn(se,S,!1,y)&&L,_)for(F=0;F<_.length;F++)se=y.g=_[F],L=cn(se,S,!1,y)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)ai(_[S]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},lt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function cn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,F=0;F<y.length;++F){var se=y[F];if(se&&!se.da&&se.capture==_){var Pe=se.listener,At=se.ha||se.src;se.fa&&ss(c.i,se),L=Pe.call(At,S)!==!1&&L}}return L&&!S.defaultPrevented}function Qt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Nu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Nu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Nf extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){le.call(this),this.h=c,this.g={}}U(us,le);var cs=[];function hs(c){ge(c.g,function(y,_){this.g.hasOwnProperty(_)&&oa(y)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),hs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=m.JSON.stringify,ua=m.JSON.parse,fs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Vo(){}Vo.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Po(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){ie.call(this,"d")}U(Ar,ie);function ko(){ie.call(this,"c")}U(ko,ie);var Xn={},Lo=null;function oi(){return Lo=Lo||new lt}Xn.La="serverreachability";function ca(c){ie.call(this,Xn.La,c)}U(ca,ie);function li(c){const y=oi();Fe(y,new ca(y))}Xn.STAT_EVENT="statevent";function Mu(c,y){ie.call(this,Xn.STAT_EVENT,c),this.stat=y}U(Mu,ie);function nt(c){const y=oi();Fe(y,new Mu(y,c))}Xn.Ma="timingevent";function St(c,y){ie.call(this,Xn.Ma,c),this.size=y}U(St,ie);function pt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Uo(c,y,_,S,L,F){c.info(function(){if(c.g)if(F)for(var se="",Pe=F.split("&"),At=0;At<Pe.length;At++){var ke=Pe[At].split("=");if(1<ke.length){var Nt=ke[0];ke=ke[1];var wt=Nt.split("_");se=2<=wt.length&&wt[1]=="type"?se+(Nt+"="+ke+"&"):se+(Nt+"=redacted&")}}else se=null;else se=F;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+y+`
`+_+`
`+se})}function Mf(c,y,_,S,L,F,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+y+`
`+_+`
`+F+" "+se})}function ui(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ds(c,_)+(S?" "+S:"")})}function Vu(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function ds(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var se=1;se<L.length;se++)L[se]=""}}}}return Ln(_)}catch{return y}}var ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Wn(){}U(Wn,Vo),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},$n=new Wn;function en(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var zo={},ha={};function Un(c,y,_){c.L=1,c.v=_s(hn(y)),c.m=_,c.P=!0,br(c,null)}function br(c,y){c.F=Date.now(),ms(c),c.A=hn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Go(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ht,c.g=Xu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Nf(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(cs[0]=L.toString()),L=cs);for(var F=0;F<L.length;F++){var se=Du(_,L[F],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),li(),Uo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Cn(this.g);var y=this.g.Ba();const Vr=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||wt!=4||y==7||(y==8||0>=Vr?li(3):li(2)),hi(this);var _=this.g.Z();this.X=_;t:if(xu(this)){var S=ju(this.g);c="";var L=S.length,F=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Zn(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(F&&y==L-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Mf(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,At=this.g;if((Pe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)ui(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,_);else{this.o=!1,this.s=3,nt(12),Ut(this),Zn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<se.length;)if(zt=Pu(this,se),zt==ha){wt==4&&(this.s=4,nt(14),_=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==zo){this.s=4,nt(15),ui(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else ui(this.i,this.l,zt,null),ps(this,zt);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||se.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)ui(this.i,this.l,se,"[Invalid Chunked Response]"),Ut(this),Zn(this);else if(0<se.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Rs(Nt),Nt.M=!0,nt(11))}}else ui(this.i,this.l,se,null),ps(this,se);wt==4&&Ut(this),this.o&&!this.J&&(wt==4?Ku(this.j,this):(this.o=!1,ms(this)))}else Lf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ut(this),Zn(this)}}}catch{}finally{}};function xu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ha:(_=Number(y.substring(_,S)),isNaN(_)?zo:(S+=1,S+_>y.length?ha:(y=y.slice(S,S+_),c.C=S+_,y)))}en.prototype.cancel=function(){this.J=!0,Ut(this)};function ms(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(w(c.ba,c),y)}function hi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Vu(this.i,this.A),this.L!=2&&(li(),nt(17)),Ut(this),this.s=2,Zn(this)):ku(this,this.S-c)};function Zn(c){c.j.G==0||c.J||Ku(c.j,c)}function Ut(c){hi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,hs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ps(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Bo(_.h,c))){if(!c.K&&Bo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Aa(_),Ta(_);else break e;$o(_),nt(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(w(_.Za,_),6e3));if(1>=da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mr(_,11)}else if((c.K||_.g==c)&&Aa(_),!re(y))for(L=_.Da.g.parse(y),y=0;y<L.length;y++){let ke=L[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Nt=ke[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const wt=ke[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Vr=ke[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(S=1.5*Vr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const zt=c.g;if(zt){const sr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sr){var F=S.h;F.g||sr.indexOf("spdy")==-1&&sr.indexOf("quic")==-1&&sr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ma(F,F.h),F.h=null))}if(S.D){const Zo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(S.ya=Zo,Qe(S.I,S.D,Zo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var se=c;if(S.qa=Yu(S,S.J?S.ia:null,S.W),se.K){tn(S.h,se);var Pe=se,At=S.L;At&&(Pe.I=At),Pe.B&&(hi(Pe),ms(Pe)),S.g=se}else Fu(S);0<_.i.length&&Sa(_)}else ke[0]!="stop"&&ke[0]!="close"||Mr(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Mr(_,7):Yo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}li(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function Rr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function da(c){return c.h?1:c.g?c.g.size:0}function Bo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Rr.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function Vf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=pa(c),S=Vf(c),L=S.length,F=0;F<L;F++)y.call(void 0,S[F],_&&_[F],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),L=null;if(0<=S){var F=c[_].substring(0,S);L=c[_].substring(S+1)}else F=c[_];y(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,ys(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.s),this.l=c.l;var y=c.i,_=new Ir;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Cr(this,_),this.m=c.m}else c&&(y=String(c).match(gs))?(this.h=!1,ys(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),fi(this,y[4]),this.l=wn(y[5]||"",!0),Cr(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}gt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(vs(y,Ho,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(vs(y,Ho,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vs(_,_.charAt(0)=="/"?Pf:Fo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vs(_,ga)),c.join("")};function hn(c){return new gt(c)}function ys(c,y,_){c.j=_?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Cr(c,y,_){y instanceof Ir?(c.i=y,zu(c.i,c.h)):(_||(y=vs(y,kf)),c.i=new Ir(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function _s(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Fo=/[#\?:]/g,Pf=/[#\?]/g,kf=/[#\?@]/g,ga=/#/g;function Ir(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&xf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ir.prototype,r.add=function(c,y){bn(this),this.i=null,c=Jn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Dr(c,y){bn(c),y=Jn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Or(c,y){return bn(c),y=Jn(c,y),c.g.has(y)}r.forEach=function(c,y){bn(this),this.g.forEach(function(_,S){_.forEach(function(L){c.call(y,L,S,this)},this)},this)},r.na=function(){bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const L=c[S];for(let F=0;F<L.length;F++)_.push(y[S])}return _},r.V=function(c){bn(this);let y=[];if(typeof c=="string")Or(this,c)&&(y=y.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return bn(this),this.i=null,c=Jn(this,c),Or(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Go(c,y,_){Dr(c,y),0<_.length&&(c.i=null,c.g.set(Jn(c,y),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const F=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var L=F;se[S]!==""&&(L+="="+encodeURIComponent(String(se[S]))),c.push(L)}}return this.i=c.join("&")};function Jn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zu(c,y){y&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(_,S){var L=S.toLowerCase();S!=L&&(Dr(this,S),Go(this,L,_))},c)),c.j=y}function Es(c,y){const _=new An;if(m.Image){const S=new Image;S.onload=x(Rn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=x(Rn,_,"TestLoadImage: error",!1,y,S),S.onabort=x(Rn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(Rn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function zn(c,y){const _=new An,S=new AbortController,L=setTimeout(()=>{S.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(L),F.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(_)}catch{}}function Ts(){this.g=new fs}function er(c,y,_){const S=_||"";try{qo(c,function(L,F){let se=L;g(L)&&(se=Ln(L)),y.push(S+F+"="+encodeURIComponent(se))})}catch(L){throw y.push(S+"type="+encodeURIComponent("_badmap")),L}}function di(c){this.l=c.Ub||null,this.j=c.eb||!1}U(di,Vo),di.prototype.g=function(){return new Nr(this.l,this.j)},di.prototype.i=function(c){return function(){return c}}({});function Nr(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Nr,lt),r=Nr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,nr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tr(this):nr(this),this.readyState==3&&Ko(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,tr(this))},r.Qa=function(c){this.g&&(this.response=c,tr(this))},r.ga=function(){this.g&&tr(this)};function tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,nr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return ge(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ot(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function qe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(qe,lt);var ya=/^https?$/i,Ss=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?xo(this.o):xo($n),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Bu(this,F);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)_.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,y,void 0))||S||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of _)this.g.setRequestHeader(F,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Bu(this,F)}};function Bu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_a(c),rr(c)}function _a(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),rr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},r.bb=function(){va(this)};function va(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Qt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=se===0){var L=String(c.D).match(gs)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),S=!ya.test(L?L.toLowerCase():"")}_=S}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var F=2<Cn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",_a(c)}}finally{rr(c)}}}}function rr(c,y){if(c.g){As(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=S}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ua(y)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Lf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(re(c[S]))continue;var _=V(c[S]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=y[L]||[];y[L]=F,F.push(_)}D(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ea(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Rr(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ea.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){nt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Yu(this,null,this.W),Sa(this)};function Yo(c){if(qu(c),c.G==3){var y=c.U++,_=hn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),bs(c,_),y=new en(c,c.j,y),y.L=2,y.v=_s(hn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ms(y)}Qu(c)}function Ta(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function qu(c){Ta(c),c.u&&(m.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!fa(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||O(),me||(oe(),me=!0),Be.add(y,c),c.B=0}}function Uf(c,y){return da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(w(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new en(this,this.j,c);let F=this.o;if(this.S&&(F?(F=b(F),M(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Hu(this,L,y),_=hn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),bs(this,_),F&&(this.O?y="headers="+encodeURIComponent(String(Qo(F)))+"&"+y:this.m&&Ot(_,this.m,F)),ma(this.h,L),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),L.T=!0,Un(L,_,null)):Un(L,_,y),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||fa(this.h)||Xo(this))};function Xo(c,y){var _;y?_=y.l:_=c.U++;const S=hn(c.I);Qe(S,"SID",c.K),Qe(S,"RID",_),Qe(S,"AID",c.T),bs(c,S),c.m&&c.o&&Ot(S,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,_),Un(_,S,y)}function bs(c,y){c.H&&ge(c.H,function(_,S){Qe(y,S,_)}),c.l&&qo({},function(_,S){Qe(y,S,_)})}function Hu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const se=["count="+_];F==-1?0<_?(F=L[0].g,se.push("ofs="+F)):F=0:se.push("ofs="+F);let Pe=!0;for(let At=0;At<_;At++){let ke=L[At].g;const Nt=L[At].map;if(ke-=F,0>ke)F=Math.max(0,L[At].g-100),Pe=!1;else try{er(Nt,se,"req"+ke+"_")}catch{S&&S(Nt)}}if(Pe){S=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Fu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||O(),me||(oe(),me=!0),Be.add(y,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(w(c.Fa,c),Wo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Ta(this),Gu(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=hn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),bs(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_s(hn(y)),_.m=null,_.P=!0,br(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ta(this),$o(this),nt(19))};function Aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,y){var _=null;if(c.g==y){Aa(c),Rs(c),c.g=null;var S=2}else if(Bo(c.h,y))_=y.D,tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var L=c.B;S=oi(),Fe(S,new St(S,_)),Sa(c)}else Fu(c);else if(L=y.s,L==3||L==0&&0<y.X||!(S==1&&Uf(c,y)||S==2&&$o(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),L){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Wo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mr(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),S=c.Xa;const L=!S;S=new gt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ys(S,"https"),_s(S),L?Es(S.toString(),_):zn(S.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(y),Qu(c),qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,_){var S=_ instanceof gt?hn(_):new gt(_);if(S.g!="")y&&(S.g=y+"."+S.g),fi(S,S.s);else{var L=m.location;S=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var F=new gt(null);S&&ys(F,S),y&&(F.g=y),L&&fi(F,L),_&&(F.l=_),S=F}return _=c.D,y=c.ya,_&&y&&Qe(S,_,y),Qe(S,"VER",c.la),bs(c,S),S}function Xu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new di({eb:_})):new qe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}r=$u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){lt.call(this),this.g=new Ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ir(this)}U(nn,lt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Yo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ln(c),c=_);y.i.push(new Lu(y.Ya++,c)),y.G==3&&Sa(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,nn.aa.N.call(this)};function Wu(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(Wu,Ar);function Zu(){ko.call(this),this.status=1}U(Zu,ko);function ir(c){this.g=c}U(ir,$u),ir.prototype.ua=function(){Fe(this.g,"a")},ir.prototype.ta=function(c){Fe(this.g,new Wu(c))},ir.prototype.sa=function(c){Fe(this.g,new Zu)},ir.prototype.ra=function(){Fe(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,kS=function(){return new wa},PS=function(){return oi()},xS=Xn,vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,gh=ci,wr.COMPLETE="complete",VS=wr,Po.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Fl=Po,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,MS=qe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const nT="@firebase/firestore",rT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Xp("@firebase/firestore");function Ja(){return Js.logLevel}function he(r,...e){if(Js.logLevel<=Me.DEBUG){const n=e.map(ag);Js.debug(`Firestore (${wo}): ${r}`,...n)}}function ni(r,...e){if(Js.logLevel<=Me.ERROR){const n=e.map(ag);Js.error(`Firestore (${wo}): ${r}`,...n)}}function fo(r,...e){if(Js.logLevel<=Me.WARN){const n=e.map(ag);Js.warn(`Firestore (${wo}): ${r}`,...n)}}function ag(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,LS(r,s,n)}function LS(r,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ni(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||LS(e,o,s)}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class VO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xO{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new US(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class PO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new PO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=UO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Ep(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return $m(o)===$m(u)?Ve(o,u):$m(o)?1:-1}return Ve(r.length,e.length)}const zO=55296,BO=57343;function $m(r){const e=r.charCodeAt(0);return e>=zO&&e<=BO}function mo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__name__";class hr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=hr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=hr.isNumericId(e),o=hr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hr.extractNumericId(e).compare(hr.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fi.fromString(e.substring(4,e.length-2))}}class et extends hr{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const jO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends hr{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return jO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sT}static keyField(){return new Gt([sT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(r,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qO(r,e,n,s){if(e===!0&&s===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function aT(r){if(!pe.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function oT(r){if(pe.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function BS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function ea(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Tu(r,e){if(!BS(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=-62135596800,uT=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uT);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lT)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uT}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Tt("string",tt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new tt(0,0))}static max(){return new we(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function HO(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new Yi(o,pe.empty(),e)}function FO(r){return new Yi(r.readTime,r.key,au)}class Yi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yi(we.min(),pe.empty(),au)}static max(){return new Yi(we.max(),pe.empty(),au)}}function GO(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==KO)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function YO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function df(r){return r==null}function Lh(r){return r===0&&1/r==-1/0}function XO(r){return typeof r=="number"&&Number.isInteger(r)&&!Lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="";function $O(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=cT(e)),e=WO(r.get(n),e);return cT(e)}function WO(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case jS:n+="";break;default:n+=u}}return n}function cT(r){return r+jS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function rs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function qS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fT(this.data.getIterator())}getIteratorFrom(e){return new fT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class fT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new It(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HS("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const ZO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=ZO.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $i(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="server_timestamp",GS="__type__",KS="__previous_value__",QS="__local_write_time__";function ug(r){return(r?.mapValue?.fields||{})[GS]?.stringValue===FS}function mf(r){const e=r.mapValue.fields[KS];return ug(e)?mf(e):e}function ou(r){const e=Xi(r.mapValue.fields[QS].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Uh="(default)";class lu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__type__",eN="__max__",sh={mapValue:{}},XS="__vector__",zh="value";function Wi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ug(r)?4:nN(r)?9007199254740991:tN(r)?10:11:Te(28295,{value:r})}function vr(r,e){if(r===e)return!0;const n=Wi(r);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ou(r).isEqual(ou(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Xi(o.timestampValue),m=Xi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return $i(o.bytesValue).isEqual($i(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?Lh(f)===Lh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hT(f)!==hT(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!vr(f[p],m[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function uu(r,e){return(r.values||[]).find(n=>vr(n,e))!==void 0}function po(r,e){if(r===e)return 0;const n=Wi(r),s=Wi(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),p=mt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return dT(r.timestampValue,e.timestampValue);case 4:return dT(ou(r),ou(e));case 5:return Ep(r.stringValue,e.stringValue);case 6:return function(u,f){const m=$i(u),p=$i(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(mt(u.latitude),mt(f.latitude));return m!==0?m:Ve(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return mT(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[zh]?.arrayValue,E=p[zh]?.arrayValue,A=Ve(g?.values?.length||0,E?.values?.length||0);return A!==0?A:mT(g,E)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=Ep(p[A],E[A]);if(w!==0)return w;const x=po(m[p[A]],g[E[A]]);if(x!==0)return x}return Ve(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function dT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=Xi(r),s=Xi(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function mT(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function go(r){return Tp(r)}function Tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Xi(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return $i(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Tp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Tp(n.fields[f])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function yh(r){switch(Wi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return $i(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+yh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return rs(s.fields,(u,f)=>{o+=u.length+yh(f)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function pT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sp(r){return!!r&&"integerValue"in r}function cg(r){return!!r&&"arrayValue"in r}function gT(r){return!!r&&"nullValue"in r}function yT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function tN(r){return(r?.mapValue?.fields||{})[YS]?.stringValue===XS}function $l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return rs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$l(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(r.arrayValue.values[n]);return e}return{...r}}function nN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===eN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=$l(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){rs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new un($l(this.value))}}function $S(r){const e=[];return rs(r.fields,(n,s)=>{const o=new Gt([n]);if(_h(s)){const u=$S(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,we.min(),we.min(),we.min(),un.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,we.min(),we.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,we.min(),we.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function _T(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!vr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function rN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{}class Et extends WS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new sN(e,n,s):n==="array-contains"?new lN(e,s):n==="in"?new uN(e,s):n==="not-in"?new cN(e,s):n==="array-contains-any"?new hN(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new aN(e,s):new oN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends WS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return ZS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZS(r){return r.op==="and"}function JS(r){return iN(r)&&ZS(r)}function iN(r){for(const e of r.filters)if(e instanceof Qn)return!1;return!0}function Ap(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+go(r.value);if(JS(r))return r.filters.map(e=>Ap(e)).join(",");{const e=r.filters.map(n=>Ap(n)).join(",");return`${r.op}(${e})`}}function eA(r,e){return r instanceof Et?function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&vr(s.value,o.value)}(r,e):r instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&eA(f,o.filters[m]),!0):!1}(r,e):void Te(19439)}function tA(r){return r instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(r):r instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(tA).join(" ,")+"}"}(r):"Filter"}class sN extends Et{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class aN extends Et{constructor(e,n){super(e,"in",n),this.keys=nA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oN extends Et{constructor(e,n){super(e,"not-in",n),this.keys=nA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nA(r,e){return(e.arrayValue?.values||[]).map(n=>pe.fromName(n.referenceValue))}class lN extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&uu(n.arrayValue,this.value)}}class uN extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class cN extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class hN extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>uu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function ET(r,e=null,n=[],s=[],o=null,u=null,f=null){return new fN(r,e,n,s,o,u,f)}function hg(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ap(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>go(s)).join(",")),e.Te=n}return e.Te}function fg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!rN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eA(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!vT(r.startAt,e.startAt)&&vT(r.endAt,e.endAt)}function wp(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dN(r,e,n,s,o,u,f,m){return new Su(r,e,n,s,o,u,f,m)}function rA(r){return new Su(r)}function TT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iA(r){return r.collectionGroup!==null}function Wl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new jh(u,s))}),n.has(Gt.keyField().canonicalString())||e.Ie.push(new jh(Gt.keyField(),s))}return e.Ie}function mr(r){const e=be(r);return e.Ee||(e.Ee=mN(e,Wl(r))),e.Ee}function mN(r,e){if(r.limitType==="F")return ET(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new jh(o.field,u)});const n=r.endAt?new Bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Bh(r.startAt.position,r.startAt.inclusive):null;return ET(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function bp(r,e){const n=r.filters.concat([e]);return new Su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Rp(r,e,n){return new Su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function pf(r,e){return fg(mr(r),mr(e))&&r.limitType===e.limitType}function sA(r){return`${hg(mr(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>tA(o)).join(", ")}]`),df(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>go(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(mr(r))}; limitType=${r.limitType})`}function gf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=_T(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Wl(s),o)||s.endAt&&!function(f,m,p){const g=_T(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Wl(s),o))}(r,e)}function pN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function aA(r){return(e,n)=>{let s=!1;for(const o of Wl(r)){const u=gN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function gN(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?po(p,g):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return qS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new at(pe.comparator);function ri(){return yN}const oA=new at(pe.comparator);function Gl(...r){let e=oA;for(const n of r)e=e.insert(n.key,n);return e}function lA(r){let e=oA;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Fs(){return Zl()}function uA(){return Zl()}function Zl(){return new sa(r=>r.toString(),(r,e)=>r.isEqual(e))}const _N=new at(pe.comparator),vN=new It(pe.comparator);function xe(...r){let e=vN;for(const n of r)e=e.add(n);return e}const EN=new It(Ve);function TN(){return EN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function cA(r){return{integerValue:""+r}}function SN(r,e){return XO(e)?cA(e):dg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function AN(r,e,n){return r instanceof qh?function(o,u){const f={fields:{[GS]:{stringValue:FS},[QS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ug(u)&&(u=mf(u)),u&&(f.fields[KS]=u),{mapValue:f}}(n,e):r instanceof cu?fA(r,e):r instanceof hu?dA(r,e):function(o,u){const f=hA(o,u),m=ST(f)+ST(o.Ae);return Sp(f)&&Sp(o.Ae)?cA(m):dg(o.serializer,m)}(r,e)}function wN(r,e,n){return r instanceof cu?fA(r,e):r instanceof hu?dA(r,e):n}function hA(r,e){return r instanceof Hh?function(s){return Sp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class qh extends yf{}class cu extends yf{constructor(e){super(),this.elements=e}}function fA(r,e){const n=mA(e);for(const s of r.elements)n.some(o=>vr(o,s))||n.push(s);return{arrayValue:{values:n}}}class hu extends yf{constructor(e){super(),this.elements=e}}function dA(r,e){let n=mA(e);for(const s of r.elements)n=n.filter(o=>!vr(o,s));return{arrayValue:{values:n}}}class Hh extends yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ST(r){return mt(r.integerValue||r.doubleValue)}function mA(r){return cg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function bN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof cu&&o instanceof cu||s instanceof hu&&o instanceof hu?mo(s.elements,o.elements,vr):s instanceof Hh&&o instanceof Hh?vr(s.Ae,o.Ae):s instanceof qh&&o instanceof qh}(r.transform,e.transform)}class RN{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _f{}function pA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mg(r.key,Gn.none()):new Au(r.key,r.data,Gn.none());{const n=r.data,s=un.empty();let o=new It(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new is(r.key,s,new vn(o.toArray()),Gn.none())}}function CN(r,e,n){r instanceof Au?function(o,u,f){const m=o.value.clone(),p=wT(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof is?function(o,u,f){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=wT(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(gA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Jl(r,e,n,s){return r instanceof Au?function(u,f,m,p){if(!vh(u.precondition,f))return m;const g=u.value.clone(),E=bT(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof is?function(u,f,m,p){if(!vh(u.precondition,f))return m;const g=bT(u.fieldTransforms,p,f),E=f.data;return E.setAll(gA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return vh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function IN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=hA(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function AT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,(u,f)=>bN(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Au extends _f{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends _f{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gA(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function wT(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,wN(f,m,n[o]))}return s}function bT(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,AN(u,f,e))}return s}class mg extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DN extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&CN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=uA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=pA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,s)=>AT(n,s))&&mo(this.baseMutations,e.baseMutations,(n,s)=>AT(n,s))}}class pg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return _N}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new pg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function VN(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function yA(r){if(r===void 0)return ni("GRPC error has no .code"),Z.UNKNOWN;switch(r){case vt.OK:return Z.OK;case vt.CANCELLED:return Z.CANCELLED;case vt.UNKNOWN:return Z.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Z.INTERNAL;case vt.UNAVAILABLE:return Z.UNAVAILABLE;case vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case vt.NOT_FOUND:return Z.NOT_FOUND;case vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case vt.ABORTED:return Z.ABORTED;case vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case vt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Fi([4294967295,4294967295],0);function RT(r){const e=xN().encode(r),n=new NS;return n.update(e),new Uint8Array(n.digest())}function CT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fi([n,s],0),new Fi([o,u],0)]}class gg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Fi.fromNumber(s)));return o.compare(PN)===1&&(o=new Fi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RT(e),[s,o]=CT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new gg(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=RT(e),[s,o]=CT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new vf(we.min(),o,new at(Ve),ri(),xe())}}class wu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wu(s,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class _A{constructor(e,n){this.targetId=e,this.Ce=n}}class vA{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class IT{constructor(){this.ve=0,this.Fe=DT(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),s=xe();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new wu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=DT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kN{constructor(e){this.Ge=e,this.ze=new Map,this.je=ri(),this.Je=ah(),this.He=ah(),this.Ye=new at(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(wp(u))if(s===0){const f=new pe(u.path);this.et(n,f,Zt.newNoDocument(f,we.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=$i(s).toUint8Array()}catch(p){if(p instanceof HS)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new gg(f,o,u)}catch(p){return fo(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&wp(m.target)){const p=new pe(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=xe();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new vf(e,n,this.Ye,this.je,s);return this.je=ri(),this.Je=ah(),this.He=ah(),this.Ye=new at(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new IT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ah(){return new at(pe.comparator)}function DT(){return new at(pe.comparator)}const LN={asc:"ASCENDING",desc:"DESCENDING"},UN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zN={and:"AND",or:"OR"};class BN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cp(r,e){return r.useProto3Json||df(e)?e:{value:e}}function Fh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function jN(r,e){return Fh(r,e.toTimestamp())}function pr(r){return He(!!r,49232),we.fromTimestamp(function(n){const s=Xi(n);return new tt(s.seconds,s.nanos)}(r))}function yg(r,e){return Ip(r,e).canonicalString()}function Ip(r,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function TA(r){const e=et.fromString(r);return He(RA(e),10190,{key:e.toString()}),e}function Dp(r,e){return yg(r.databaseId,e.path)}function Wm(r,e){const n=TA(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(AA(n))}function SA(r,e){return yg(r.databaseId,e)}function qN(r){const e=TA(r);return e.length===4?et.emptyPath():AA(e)}function Op(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function AA(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function OT(r,e,n){return{name:Dp(r,e),fields:n.value.mapValue.fields}}function HN(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?Z.UNKNOWN:yA(g.code);return new ce(E,g.message||"")}(f);n=new vA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wm(r,s.document.name),u=pr(s.document.updateTime),f=s.document.createTime?pr(s.document.createTime):we.min(),m=new un({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Eh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Wm(r,s.document),u=s.readTime?pr(s.readTime):we.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Wm(r,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new MN(o,u),m=s.targetId;n=new _A(m,f)}}return n}function FN(r,e){let n;if(e instanceof Au)n={update:OT(r,e.key,e.value)};else if(e instanceof mg)n={delete:Dp(r,e.key)};else if(e instanceof is)n={update:OT(r,e.key,e.data),updateMask:JN(e.fieldMask)};else{if(!(e instanceof DN))return Te(16599,{Vt:e.type});n={verify:Dp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof qh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Hh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:jN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),n}function GN(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?pr(o.updateTime):pr(u);return f.isEqual(we.min())&&(f=pr(u)),new RN(f,o.transformResults||[])}(n,e))):[]}function KN(r,e){return{documents:[SA(r,e.path)]}}function QN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=SA(r,o);const u=function(g){if(g.length!==0)return bA(Qn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:to(w.field),direction:$N(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Cp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function YN(r){let e=qN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const w=wA(A);return w instanceof Qn&&JS(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(w=>function(U){return new jh(no(U.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,df(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(A){const w=!!A.before,x=A.values||[];return new Bh(x,w)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const w=!A.before,x=A.values||[];return new Bh(x,w)}(n.endAt)),dN(e,o,f,u,m,"F",p,g)}function XN(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return Et.create(no(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>wA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function $N(r){return LN[r]}function WN(r){return UN[r]}function ZN(r){return zN[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Gt.fromServerFormat(r.fieldPath)}function bA(r){return r instanceof Et?function(n){if(n.op==="=="){if(yT(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(gT(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yT(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(gT(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:WN(n.op),value:n.value}}}(r):r instanceof Qn?function(n){const s=n.getFilters().map(o=>bA(o));return s.length===1?s[0]:{compositeFilter:{op:ZN(n.op),filters:s}}}(r):Te(54877,{filter:r})}function JN(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.yt=e}}function tM(r){const e=YN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.Cn=new rM}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Yi.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class rM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CA=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(CA,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="LruGarbageCollector",iM=1048576;function VT([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class sM{constructor(e){this.Ir=e,this.buffer=new It(VT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(MT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?he(MT,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)})}}class oM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(ff.ce);const s=new sM(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(NT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Ja()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function lM(r,e){return new oM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.changes=new sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Jl(s.mutation,o,vn.empty(),tt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=xe()){const o=Fs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Gl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Fs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,xe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ri();const f=Zl(),m=function(){return Zl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof is)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Jl(E.mutation,g,E.mutation.getFieldMask(),tt.now())):f.set(g.key,vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>m.set(g,new cM(E,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new at((f,m)=>f-m),u=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||xe()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=uA();E.forEach(w=>{if(!u.has(w)){const x=pA(n.get(w),s.get(w));x!==null&&A.set(w,x),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Fs());let m=au,p=u;return f.next(g=>ee.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,xe())).next(E=>({batchId:m,changes:lA(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(A,w){return new Su(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,w)=>{f=f.insert(A,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=Gl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Jl(E.mutation,g,vn.empty(),tt.now()),gf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:tM(o.bundledQuery),readTime:pr(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.overlays=new at(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Fs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Fs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Fs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new NN(n,s));let u=this.qr.get(n);u===void 0&&(u=xe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.Qr=new It(Pt.$r),this.Ur=new It(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new pe(new et([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new et([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=xe();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Pt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ON(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?lg:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ve);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new pe(u),0);let m=new It(Ve);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.ri=e,this.docs=function(){return new at(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=ri();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ri();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||GO(FO(E),s)<=0||(o.has(E.key)||gf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new yM(this)}getSize(e){return ee.resolve(this.size)}}class yM extends uM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.persistence=e,this.si=new sa(n=>hg(n),fg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new _g,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new mM,this.referenceDelegate=e(this),this.Pi=new _M(this),this.indexManager=new nM,this.remoteDocumentCache=function(o){return new gM(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new eM(n),this.Ii=new fM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new pM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new vM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ee.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class vM extends QO{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ri=new _g,this.Vi=null}static mi(e){return new vg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,s=>{const o=pe.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.pi=new sa(s=>$O(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=lM(this,n)}static mi(e,n){return new Gh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=xe(),o=xe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Eg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ZC()?8:YO(Jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new EM;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ja()<=Me.DEBUG&&he("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):ee.resolve())}ys(e,n){if(TT(n))return ee.resolve(null);let s=mr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Rp(n,null,"F"),s=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=xe(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Rp(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return TT(n)||o.isEqual(we.min())?ee.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Ja()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.vs(e,f,n,HO(o,au)).next(m=>m))})}Ds(e,n){let s=new It(aA(e));return n.forEach((o,u)=>{gf(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ja()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(e,n,Yi.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="LocalStore",SM=3e8;class AM{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new at(Ve),this.xs=new sa(u=>hg(u),fg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function wM(r,e,n,s){return new AM(r,e,n,s)}async function DA(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=xe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function bM(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,w=A.keys();let x=ee.resolve();return w.forEach(U=>{x=x.next(()=>E.getEntry(p,U)).next(Q=>{const j=g.docVersions.get(U);He(j!==null,48541),Q.version.compareTo(j)<0&&(A.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=xe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function OA(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function RM(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let x=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?x=x.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(A,x),function(Q,j,G){return Q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=SM?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(w,x,E)&&m.push(n.Pi.updateTargetData(u,x))});let p=ri(),g=xe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(CM(u,f,e.documentUpdates).next(E=>{p=E.ks,g=E.qs})),!s.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function CM(r,e,n){let s=xe(),o=xe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ri();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Tg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function IM(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function DM(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Bi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Np(r,e,n){const s=be(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ro(f))throw f;he(Tg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xT(r,e,n){const s=be(r);let o=we.min(),u=xe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=be(p),w=A.xs.get(E);return w!==void 0?ee.resolve(A.Ms.get(w)):A.Pi.getTargetData(g,E)}(s,f,mr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:xe())).next(m=>(OM(s,pN(e),m),{documents:m,Qs:u})))}function OM(r,e,n){let s=r.Os.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class PT{constructor(){this.activeTargetIds=TN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NM{constructor(){this.Mo=new PT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new PT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="ConnectivityMonitor";class LT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(kT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(kT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function Mp(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="RestConnection",VM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Mp(),m=this.zo(e,n.toUriEncodedString());he(Zm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=To(g);return this.Jo(e,m,p,s,E).then(A=>(he(Zm,`Received RPC '${e}' ${f}: `,A),A),A=>{throw fo(Zm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=VM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class kM extends xM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Mp();return new Promise((m,p)=>{const g=new MS;g.setWithCredentials(!0),g.listenOnce(VS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case gh.NO_ERROR:const A=g.getResponseJson();he($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case gh.TIMEOUT:he($t,`RPC '${e}' ${f} timed out`),p(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const w=g.getStatus();if(he($t,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const U=x?.error;if(U&&U.status&&U.message){const Q=function(G){const re=G.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(re)>=0?re:Z.UNKNOWN}(U.status);p(new ce(Q,U.message))}else p(new ce(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he($t,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);he($t,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=Mp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=kS(),m=PS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);this.I_(A);let w=!1,x=!1;const U=new PM({Yo:j=>{x?he($t,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(he($t,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),he($t,`RPC '${e}' stream ${o} sending:`,j),A.send(j))},Zo:()=>A.close()}),Q=(j,G,re)=>{j.listen(G,$=>{try{re($)}catch(ue){setTimeout(()=>{throw ue},0)}})};return Q(A,Fl.EventType.OPEN,()=>{x||(he($t,`RPC '${e}' stream ${o} transport opened.`),U.o_())}),Q(A,Fl.EventType.CLOSE,()=>{x||(x=!0,he($t,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(A))}),Q(A,Fl.EventType.ERROR,j=>{x||(x=!0,fo($t,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),U.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))}),Q(A,Fl.EventType.MESSAGE,j=>{if(!x){const G=j.data[0];He(!!G,16349);const re=G,$=re?.error||re[0]?.error;if($){he($t,`RPC '${e}' stream ${o} received error:`,$);const ue=$.status;let ne=function(b){const R=vt[b];if(R!==void 0)return yA(R)}(ue),ge=$.message;ne===void 0&&(ne=Z.INTERNAL,ge="Unknown error status: "+ue+" with message "+$.message),x=!0,U.a_(new ce(ne,ge)),A.close()}else he($t,`RPC '${e}' stream ${o} received:`,G),U.u_(G)}}),Q(m,xS.STAT_EVENT,j=>{j.stat===vp.PROXY?he($t,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===vp.NOPROXY&&he($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(r){return new BN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="PersistentStream";class MA{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(UT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(he(UT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LM extends MA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HN(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?pr(f.readTime):we.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Op(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=wp(p)?{documents:KN(u,p)}:{query:QN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=EA(u,f.resumeToken);const g=Cp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Fh(u,f.snapshotVersion.toTimestamp());const g=Cp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=XN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Op(this.serializer),n.removeTarget=e,this.q_(n)}}class UM extends MA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GN(e.writeResults,e.commitTime),s=pr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Op(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>FN(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{}class BM extends zM{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Ip(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Ip(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(Z.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class qM{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{aa(this)&&(he(ta,"Restarting streams for network reachability change."),await async function(p){const g=be(p);g.Ea.add(4),await bu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Tf(g)}(this))})}),this.Ra=new jM(s,o)}}async function Tf(r){if(aa(r))for(const e of r.da)await e(!0)}async function bu(r){for(const e of r.da)await e(!1)}function VA(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bg(n)?wg(n):Co(n).O_()&&Ag(n,e))}function Sg(r,e){const n=be(r),s=Co(n);n.Ia.delete(e),s.O_()&&xA(n,e),n.Ia.size===0&&(s.O_()?s.L_():aa(n)&&n.Ra.set("Unknown"))}function Ag(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).Y_(e)}function xA(r,e){r.Va.Ue(e),Co(r).Z_(e)}function wg(r){r.Va=new kN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.Ra.ua()}function bg(r){return aa(r)&&!Co(r).x_()&&r.Ia.size>0}function aa(r){return be(r).Ea.size===0}function PA(r){r.Va=void 0}async function HM(r){r.Ra.set("Online")}async function FM(r){r.Ia.forEach((e,n)=>{Ag(r,e)})}async function GM(r,e){PA(r),bg(r)?(r.Ra.ha(e),wg(r)):r.Ra.set("Unknown")}async function KM(r,e,n){if(r.Ra.set("Online"),e instanceof vA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){he(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kh(r,s)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof _A?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await OA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),xA(u,p);const A=new Bi(E.target,p,g,E.sequenceNumber);Ag(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){he(ta,"Failed to raise snapshot:",s),await Kh(r,s)}}async function Kh(r,e,n){if(!Ro(e))throw e;r.Ea.add(1),await bu(r),r.Ra.set("Offline"),n||(n=()=>OA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(ta,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Tf(r)})}function kA(r,e){return e().catch(n=>Kh(r,n,e))}async function Sf(r){const e=be(r),n=Zi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lg;for(;QM(e);)try{const o=await IM(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,YM(e,o)}catch(o){await Kh(e,o)}LA(e)&&UA(e)}function QM(r){return aa(r)&&r.Ta.length<10}function YM(r,e){r.Ta.push(e);const n=Zi(r);n.O_()&&n.X_&&n.ea(e.mutations)}function LA(r){return aa(r)&&!Zi(r).x_()&&r.Ta.length>0}function UA(r){Zi(r).start()}async function XM(r){Zi(r).ra()}async function $M(r){const e=Zi(r);for(const n of r.Ta)e.ea(n.mutations)}async function WM(r,e,n){const s=r.Ta.shift(),o=pg.from(s,e,n);await kA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Sf(r)}async function ZM(r,e){e&&Zi(r).X_&&await async function(s,o){if(function(f){return VN(f)&&f!==Z.ABORTED}(o.code)){const u=s.Ta.shift();Zi(s).B_(),await kA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Sf(s)}}(r,e),LA(r)&&UA(r)}async function zT(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),he(ta,"RemoteStore received new credentials");const s=aa(n);n.Ea.add(3),await bu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Tf(n)}async function JM(r,e){const n=be(r);e?(n.Ea.delete(2),await Tf(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function Co(r){return r.ma||(r.ma=function(n,s,o){const u=be(n);return u.sa(),new LM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:HM.bind(null,r),t_:FM.bind(null,r),r_:GM.bind(null,r),H_:KM.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),bg(r)?wg(r):r.Ra.set("Unknown")):(await r.ma.stop(),PA(r))})),r.ma}function Zi(r){return r.fa||(r.fa=function(n,s,o){const u=be(n);return u.sa(),new UM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XM.bind(null,r),r_:ZM.bind(null,r),ta:$M.bind(null,r),na:WM.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Sf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Rg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(r,e){if(ni("AsyncQueue",`${e}: ${r}`),Ro(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.ga=new at(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class _o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new _o(e,n,oo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class t4{constructor(){this.queries=jT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=jT(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function jT(){return new sa(r=>sA(r),pf)}async function n4(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new e4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Cg(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ig(n)}async function r4(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function i4(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Ig(n)}function s4(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Ig(r){r.Ca.forEach(e=>{e.next()})}var Vp,qT;(qT=Vp||(Vp={})).Ma="default",qT.Cache="cache";class a4{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.key=e}}class BA{constructor(e){this.key=e}}class o4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=aA(e),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new BT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const w=o.get(E),x=gf(this.query,A)?A:null,U=!!w&&this.mutatedKeys.has(w.key),Q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;w&&x?w.data.isEqual(x.data)?U!==Q&&(s.track({type:3,doc:x}),j=!0):this.su(w,x)||(s.track({type:2,doc:x}),j=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(m=!0)):!w&&x?(s.track({type:0,doc:x}),j=!0):w&&!x&&(s.track({type:1,doc:w}),j=!0,(p||g)&&(m=!0)),j&&(x?(f=f.add(x),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,A)=>function(x,U){const Q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:j})}};return Q(x)-Q(U)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new BA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new zA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class l4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class u4{constructor(e){this.key=e,this.hu=!1}}class c4{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa(m=>sA(m),pf),this.Iu=new Map,this.Eu=new Set,this.du=new at(pe.comparator),this.Au=new Map,this.Ru=new _g,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h4(r,e,n=!0){const s=KA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jA(s,e,n,!0),o}async function f4(r,e){const n=KA(r);await jA(n,e,!0,!1)}async function jA(r,e,n,s){const o=await DM(r.localStore,mr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await d4(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&VA(r.remoteStore,o),m}async function d4(r,e,n,s,o){r.pu=(A,w,x)=>async function(Q,j,G,re){let $=j.view.ru(G);$.Cs&&($=await xT(Q.localStore,j.query,!1).then(({documents:D})=>j.view.ru(D,$)));const ue=re&&re.targetChanges.get(j.targetId),ne=re&&re.targetMismatches.get(j.targetId)!=null,ge=j.view.applyChanges($,Q.isPrimaryClient,ue,ne);return FT(Q,j.targetId,ge.au),ge.snapshot}(r,A,w,x);const u=await xT(r.localStore,e,!0),f=new o4(e,u.Qs),m=f.ru(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);FT(r,n,g.au);const E=new l4(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function m4(r,e,n){const s=be(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!pf(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sg(s.remoteStore,o.targetId),xp(s,o.targetId)}).catch(bo)):(xp(s,o.targetId),await Np(s.localStore,o.targetId,!0))}async function p4(r,e){const n=be(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(n.remoteStore,s.targetId))}async function g4(r,e,n){const s=A4(r);try{const o=await function(f,m){const p=be(f),g=tt.now(),E=m.reduce((x,U)=>x.add(U.key),xe());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let U=ri(),Q=xe();return p.Ns.getEntries(x,E).next(j=>{U=j,U.forEach((G,re)=>{re.isValidDocument()||(Q=Q.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,U)).next(j=>{A=j;const G=[];for(const re of m){const $=IN(re,A.get(re.key).overlayedDocument);$!=null&&G.push(new is(re.key,$,$S($.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,G,m)}).next(j=>{w=j;const G=j.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(x,j.batchId,G)})}).then(()=>({batchId:w.batchId,changes:lA(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new at(Ve)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Ru(s,o.changes),await Sf(s.remoteStore)}catch(o){const u=Cg(o,"Failed to persist write");n.reject(u)}}async function qA(r,e){const n=be(r);try{const s=await RM(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))}),await Ru(n,s,e)}catch(s){await bo(s)}}function HT(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=be(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const w of A.Sa)w.va(m)&&(g=!0)}),g&&Ig(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function y4(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new at(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,we.min()));const m=xe().add(u),p=new vf(we.min(),new Map,new at(Ve),f,m);await qA(s,p),s.du=s.du.remove(u),s.Au.delete(e),Og(s)}else await Np(s.localStore,e,!1).then(()=>xp(s,e,n)).catch(bo)}async function _4(r,e){const n=be(r),s=e.batch.batchId;try{const o=await bM(n.localStore,e);FA(n,s,null),HA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,o)}catch(o){await bo(o)}}async function v4(r,e,n){const s=be(r);try{const o=await function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(He(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);FA(s,e,n),HA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,o)}catch(o){await bo(o)}}function HA(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function FA(r,e,n){const s=be(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function xp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||GA(r,s)})}function GA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Sg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Og(r))}function FT(r,e,n){for(const s of n)s instanceof zA?(r.Ru.addReference(s.key,e),E4(r,s)):s instanceof BA?(he(Dg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||GA(r,s.key)):Te(19791,{wu:s})}function E4(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(Dg,"New document in limbo: "+n),r.Eu.add(s),Og(r))}function Og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(et.fromString(e)),s=r.fu.next();r.Au.set(s,new u4(n)),r.du=r.du.insert(n,s),VA(r.remoteStore,new Bi(mr(rA(n.path)),s,"TargetPurposeLimboResolution",ff.ce))}}async function Ru(r,e,n){const s=be(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Eg.As(p.targetId,g);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,g){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,w=>ee.forEach(w.Es,x=>E.persistence.referenceDelegate.addReference(A,w.targetId,x)).next(()=>ee.forEach(w.ds,x=>E.persistence.referenceDelegate.removeReference(A,w.targetId,x)))))}catch(A){if(!Ro(A))throw A;he(Tg,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const x=E.Ms.get(w),U=x.snapshotVersion,Q=x.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(w,Q)}}}(s.localStore,u))}async function T4(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){he(Dg,"User change. New user:",e.toKey());const s=await DA(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new ce(Z.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Ls)}}function S4(r,e){const n=be(r),s=n.Au.get(e);if(s&&s.hu)return xe().add(s.key);{let o=xe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function KA(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y4.bind(null,e),e.Pu.H_=i4.bind(null,e.eventManager),e.Pu.yu=s4.bind(null,e.eventManager),e}function A4(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wM(this.persistence,new TM,e.initialUser,this.serializer)}Cu(e){return new IA(vg.mi,this.serializer)}Du(e){return new NM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class w4 extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new IA(s=>Gh.mi(s,n),this.serializer)}}class Pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await JM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t4}()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),s=function(u){return new kM(u)}(e.databaseInfo);return function(u,f,m,p){return new BM(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new qM(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>HT(this.syncEngine,n,0),function(){return LT.v()?new LT:new MM}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const A=new c4(o,u,f,m,p,g);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=be(n);he(ta,"RemoteStore shutting down."),s.Ea.add(5),await bu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="FirestoreClient";class R4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(Ji,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(Ji,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ep(r,e){r.asyncQueue.verifyOperationInProgress(),he(Ji,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await DA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function GT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await C4(r);he(Ji,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>zT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>zT(e.remoteStore,o)),r._onlineComponents=e}async function C4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Ji,"Using user provided OfflineComponentProvider");try{await ep(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await ep(r,new Qh)}}else he(Ji,"Using default OfflineComponentProvider"),await ep(r,new w4(void 0));return r._offlineComponents}async function QA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Ji,"Using user provided OnlineComponentProvider"),await GT(r,r._uninitializedComponentsProvider._online)):(he(Ji,"Using default OnlineComponentProvider"),await GT(r,new Pp))),r._onlineComponents}function I4(r){return QA(r).then(e=>e.syncEngine)}async function D4(r){const e=await QA(r),n=e.eventManager;return n.onListen=h4.bind(null,e.syncEngine),n.onUnlisten=m4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p4.bind(null,e.syncEngine),n}function O4(r,e,n={}){const s=new Gi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new b4({next:w=>{E.Nu(),f.enqueueAndForget(()=>r4(u,A)),w.fromCache&&p.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new a4(m,E,{includeMetadataChanges:!0,qa:!0});return n4(u,A)}(await D4(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firestore.googleapis.com",QT=!0;class YT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XA,this.ssl=QT}else this.host=e.host,this.ssl=e.ssl??QT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iM)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new MO;switch(s.type){case"firstParty":return new kO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=KT.get(n);s&&(he("ComponentProvider","Removing Datastore"),KT.delete(n),s.terminate())}(this),Promise.resolve()}}function N4(r,e,n,s={}){r=ea(r,Af);const o=To(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(H0(`https://${m}`),F0("Firestore",!0)),u.host!==XA&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Xs(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=HC(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(A)}r._authCredentials=new VO(new US(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Ct{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tu(n,Ct._jsonSchema))return new Ct(e,s||null,new pe(et.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Tt("string",Ct._jsonSchemaVersion),referencePath:Tt("string")};class Ki extends Io{constructor(e,n,s){super(e,n,rA(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new pe(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function M4(r,e,...n){if(r=kt(r),zS("collection","path",e),r instanceof Af){const s=et.fromString(e,...n);return oT(s),new Ki(r,null,s)}{if(!(r instanceof Ct||r instanceof Ki))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return oT(s),new Ki(r.firestore,null,s)}}function Ng(r,e,...n){if(r=kt(r),arguments.length===1&&(e=og.newId()),zS("doc","path",e),r instanceof Af){const s=et.fromString(e,...n);return aT(s),new Ct(r,null,new pe(s))}{if(!(r instanceof Ct||r instanceof Ki))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return aT(s),new Ct(r.firestore,r instanceof Ki?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NA(this,"async_queue_retry"),this._c=()=>{const s=Jm();s&&he(XT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;he(XT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",WT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Rg.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:WT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Cu extends Af{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new $T,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function V4(r,e){const n=typeof r=="object"?r:Y0(),s=typeof r=="string"?r:Uh,o=Wp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=jC("firestore");u&&N4(o,...u)}return o}function $A(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||x4(r),r._firestoreClient}function x4(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new JO(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,YA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new R4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Kt.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Tt("string",kn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:Tt("string",gr._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new yr(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:Tt("string",yr._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=/^__.*__$/;class k4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class WA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class Vg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZA(this.Ac)&&P4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class L4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ef(e)}Cc(e,n,s,o=!1){return new Vg({Ac:e,methodName:n,Dc:s,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(r){const e=r._freezeSettings(),n=Ef(r._databaseId);return new L4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function U4(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Pg("Data must be an object, but it was:",f,s);const m=JA(s,f);let p,g;if(u.merge)p=new vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=kp(e,A,n);if(!f.contains(w))throw new ce(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);tw(E,w)||E.push(w)}p=new vn(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new k4(new un(m),p,g)}class bf extends Mg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function z4(r,e,n,s){const o=r.Cc(1,e,n);Pg("Data must be an object, but it was:",o,s);const u=[],f=un.empty();rs(s,(p,g)=>{const E=kg(e,p,n);g=kt(g);const A=o.yc(E);if(g instanceof bf)u.push(E);else{const w=Iu(g,A);w!=null&&(u.push(E),f.set(E,w))}});const m=new vn(u);return new WA(f,m,o.fieldTransforms)}function B4(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[kp(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(kp(e,u[w])),p.push(u[w+1]);const g=[],E=un.empty();for(let w=m.length-1;w>=0;--w)if(!tw(g,m[w])){const x=m[w];let U=p[w];U=kt(U);const Q=f.yc(x);if(U instanceof bf)g.push(x);else{const j=Iu(U,Q);j!=null&&(g.push(x),E.set(x,j))}}const A=new vn(g);return new WA(E,A,f.fieldTransforms)}function j4(r,e,n,s=!1){return Iu(n,r.Cc(s?4:3,e))}function Iu(r,e){if(ew(r=kt(r)))return Pg("Unsupported field value:",e,r),JA(r,e);if(r instanceof Mg)return function(s,o){if(!ZA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Iu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:Fh(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fh(o.serializer,u)}}if(s instanceof gr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:EA(o.serializer,s._byteString)};if(s instanceof Ct){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yr)return function(f,m){return{mapValue:{fields:{[YS]:{stringValue:XS},[zh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return dg(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${hf(s)}`)}(r,e)}function JA(r,e){const n={};return qS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(r,(s,o)=>{const u=Iu(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function ew(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof gr||r instanceof kn||r instanceof Ct||r instanceof Mg||r instanceof yr)}function Pg(r,e,n){if(!ew(n)||!BS(n)){const s=hf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function kp(r,e,n){if((e=kt(e))instanceof wf)return e._internalPath;if(typeof e=="string")return kg(r,e);throw Yh("Field path arguments must be of type string or ",r,!1,void 0,n)}const q4=new RegExp("[~\\*/\\[\\]]");function kg(r,e,n){if(e.search(q4)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Yh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(Z.INVALID_ARGUMENT,m+r+p)}function tw(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H4 extends nw{data(){return super.data()}}function Lg(r,e){return typeof e=="string"?kg(r,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class G4 extends Ug{}function K4(r,e,...n){let s=[];e instanceof Ug&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof zg).length,m=u.filter(p=>p instanceof Rf).length;if(f>1||f>0&&m>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Rf extends G4{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Rf(e,n,s)}_apply(e){const n=this._parse(e);return rw(e._query,n),new Io(e.firestore,e.converter,bp(e._query,n))}_parse(e){const n=xg(e.firestore);return function(u,f,m,p,g,E,A){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){JT(A,E);const U=[];for(const Q of A)U.push(ZT(p,u,Q));w={arrayValue:{values:U}}}else w=ZT(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||JT(A,E),w=j4(m,f,A,E==="in"||E==="not-in");return Et.create(g,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Q4(r,e,n){const s=e,o=Lg("where",r);return Rf._create(o,s,n)}class zg extends Ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)rw(f,p),f=bp(f,p)}(e._query,n),new Io(e.firestore,e.converter,bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ZT(r,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iA(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!pe.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pT(r,new pe(s))}if(n instanceof Ct)return pT(r,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function JT(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rw(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y4{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return rs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[zh].arrayValue?.values?.map(s=>mt(s.doubleValue));return new yr(n)}convertGeoPoint(e){return new gr(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Xi(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(RA(s),9688,{name:e});const o=new lu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class lh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends nw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Lg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Tt("string",lo._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class Th extends lo{data(e={}){return super.data(e)}}class uo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new lh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:$4(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Tt("string",uo._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class W4 extends Y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function Z4(r){r=ea(r,Io);const e=ea(r.firestore,Cu),n=$A(e),s=new W4(e);return F4(r._query),O4(n,r._query).then(o=>new uo(e,s,r,o))}function J4(r,e,n,...s){r=ea(r,Ct);const o=ea(r.firestore,Cu),u=xg(o);let f;return f=typeof(e=kt(e))=="string"||e instanceof wf?B4(u,"updateDoc",r._key,e,n,s):z4(u,"updateDoc",r._key,e),Bg(o,[f.toMutation(r._key,Gn.exists(!0))])}function eV(r){return Bg(ea(r.firestore,Cu),[new mg(r._key,Gn.none())])}function tV(r,e){const n=ea(r.firestore,Cu),s=Ng(r),o=X4(r.converter,e);return Bg(n,[U4(xg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function Bg(r,e){return function(s,o){const u=new Gi;return s.asyncQueue.enqueueAndForget(async()=>g4(await I4(s),o,u)),u.promise}($A(r),e)}(function(e,n=!0){(function(o){wo=o})(So),ho(new $s("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Cu(new xO(s.getProvider("auth-internal")),new LO(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Hi(nT,rT,e),Hi(nT,rT,"esm2020")})();const nV={apiKey:"AIzaSyD9gJImBMk3RJ0QfN7nWjBfiUYs5M4UKJo",authDomain:"react-node-todo-app.firebaseapp.com",projectId:"react-node-todo-app",storageBucket:"react-node-todo-app.firebasestorage.app",messagingSenderId:"834380155342",appId:"1:834380155342:web:5663f017317d45e000039f",measurementId:"G-XDNLPXD4LC"},iw=Q0(nV),Do=cf(iw),rV=V4(iw),iV=async r=>{const{email:e,password:n}=r,s=await dD(Do,e,n);return{email:s.user.email??"",uid:s.user.uid}},sV=async r=>{const{email:e,password:n}=r,s=await mD(Do,e,n);return{email:s.user.email??"",uid:s.user.uid}},uh=cf().currentUser,aV={isAuth:!!uh,user:uh?{uid:uh.uid,email:uh.email??""}:null,error:null},Lp=ra("auth/create",iV),Up=ra("auth/login",sV),oV=ra("auth/logout",async(r,{dispatch:e})=>{const n=cf();await _D(n),e(aw())}),sw=k0({name:"auth",initialState:aV,reducers:{resetAuthError(r){r.error=null},setUser(r,e){r.isAuth=!0,r.user=e.payload,r.error=null},clearUser(r){r.isAuth=!1,r.user=null,r.error=null}},extraReducers:r=>{r.addCase(Lp.fulfilled,(e,n)=>{e.isAuth=!0,e.user=n.payload,e.error=null}).addCase(Lp.rejected,(e,n)=>{e.error=n.error.message??"User cannot register"}).addCase(Up.fulfilled,(e,n)=>{e.isAuth=!0,e.user=n.payload,e.error=null}).addCase(Up.rejected,(e,n)=>{e.error=n.error.message??"User cannot login"})}}),{resetAuthError:lV,setUser:uV,clearUser:aw}=sw.actions,cV=sw.reducer;function hV(){const r=es(),{isAuth:e,error:n}=ef(g=>g.auth),s=Bp(),[o,u]=K.useState(""),[f,m]=K.useState(""),p=()=>{r(Up({email:o,password:f}))};return K.useEffect(()=>{e&&s("/")},[e,s]),ae.jsxs("form",{className:"space-y-6",children:[ae.jsxs("div",{children:[ae.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Email address"}),ae.jsx("div",{className:"mt-2",children:ae.jsx("input",{name:"email",type:"email",value:o,onChange:g=>u(g.target.value),required:!0,autoComplete:"email",className:e0})})]}),ae.jsxs("div",{children:[ae.jsx("div",{className:"flex items-center justify-between",children:ae.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900",children:"Password"})}),ae.jsx("div",{className:"mt-2",children:ae.jsx("input",{name:"password",type:"password",value:f,onChange:g=>m(g.target.value),required:!0,autoComplete:"current-password",className:e0})})]}),n?.length?ae.jsx("p",{className:"text-red-500",children:n}):"",ae.jsx(Ks,{variant:"primary",onClick:p,children:"Sign in"})]})}const e0=`
  block 
  w-full 
  rounded-md 
  bg-white 
  px-3 
  py-1.5 
  text-base 
  text-gray-900 
  outline-1 -outline-offset-1 
  outline-gray-300 
  placeholder:text-gray-400 
  focus:outline-2 
  focus:-outline-offset-2 
  focus:outline-indigo-600 
  sm:text-sm/6
`;function fV(){const r=Bp(),e=es(),{isAuth:n,error:s}=ef(g=>g.auth),[o,u]=K.useState(""),[f,m]=K.useState(""),p=()=>{e(Lp({email:o,password:f}))};return K.useEffect(()=>{n&&r("/")},[n,r]),ae.jsxs("form",{className:"space-y-6",children:[ae.jsxs("div",{children:[ae.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Email address"}),ae.jsx("div",{className:"mt-2",children:ae.jsx("input",{name:"email",type:"email",value:o,onChange:g=>u(g.target.value),required:!0,autoComplete:"email",className:t0})})]}),ae.jsxs("div",{children:[ae.jsx("div",{className:"flex items-center justify-between",children:ae.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900",children:"Password"})}),ae.jsx("div",{className:"mt-2",children:ae.jsx("input",{name:"password",type:"password",value:f,onChange:g=>m(g.target.value),required:!0,autoComplete:"current-password",className:t0})})]}),s?.length?ae.jsx("p",{className:"text-red-500",children:s}):"",ae.jsx(Ks,{variant:"primary",onClick:p,children:"Register"})]})}const t0=`
  block 
  w-full 
  rounded-md 
  bg-white 
  px-3 
  py-1.5 
  text-base 
  text-gray-900 
  outline-1 -outline-offset-1 
  outline-gray-300 
  placeholder:text-gray-400 
  focus:outline-2 
  focus:-outline-offset-2 
  focus:outline-indigo-600 
  sm:text-sm/6
`;function n0(){const r=es(),[e,n]=K.useState(!0),s=()=>e?ae.jsx(hV,{}):ae.jsx(fV,{});return K.useEffect(()=>{r(lV())},[r,e]),ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:`
            flex 
            min-h-full 
            flex-1 
            flex-col 
            justify-center 
            px-6 
            py-12 
            lg:px-8
          `,children:[ae.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[ae.jsx("h1",{className:"text-5xl font-black text-indigo-500 text-center",children:"TODO APP"}),ae.jsx("h2",{className:`
                mt-10 
                text-center 
                text-2xl/9 
                font-bold 
                tracking-tight 
              text-gray-900
              `,children:e?"Sign in to your account":"Create new account"})]}),ae.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[s(),e?ae.jsxs("p",{className:"mt-5 ",children:["Don't have an account?",ae.jsx("a",{href:"#",onClick:()=>n(!e),className:"ml-3 font-semibold text-indigo-600 hover:text-indigo-500",children:"Create account"})]}):ae.jsxs("p",{className:"mt-5 ",children:["Already have an account?",ae.jsx("a",{href:"#",onClick:()=>n(!e),className:"ml-3 font-semibold text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})]})]})})}function dV(){const r=es(),e=()=>{r(oV())};return ae.jsxs("nav",{className:"bg-gray-800 py-2 flex flex-row justify-between px-10",children:[ae.jsx("h1",{className:"text-3xl text-white font-extrabold text-center",children:"TODO APP"}),ae.jsx("div",{className:"w-30",children:ae.jsx(Ks,{variant:"outlined",onClick:e,children:"Log out"})})]})}var ow={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r0=Gs.createContext&&Gs.createContext(ow),mV=["attr","size","title"];function pV(r,e){if(r==null)return{};var n=gV(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function gV(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Xh(){return Xh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Xh.apply(this,arguments)}function i0(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function $h(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i0(Object(n),!0).forEach(function(s){yV(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):i0(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function yV(r,e,n){return e=_V(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function _V(r){var e=vV(r,"string");return typeof e=="symbol"?e:e+""}function vV(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lw(r){return r&&r.map((e,n)=>Gs.createElement(e.tag,$h({key:n},e.attr),lw(e.child)))}function Cf(r){return e=>Gs.createElement(EV,Xh({attr:$h({},r.attr)},e),lw(r.child))}function EV(r){var e=n=>{var{attr:s,size:o,title:u}=r,f=pV(r,mV),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Gs.createElement("svg",Xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:$h($h({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Gs.createElement("title",null,u),r.children)};return r0!==void 0?Gs.createElement(r0.Consumer,null,n=>e(n)):e(ow)}function TV(r){return Cf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(r)}function SV(r){return Cf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function AV(r){return Cf({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function wV(r){return Cf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(r)}const If=M4(rV,"todos"),bV=async()=>{try{const r=Do.currentUser;if(!r)throw new Error("User not authenticated");const e=K4(If,Q4("userId","==",r.uid));return(await Z4(e)).docs.map(s=>({id:s.id,userId:s.data().userId,task:s.data().task,isDone:s.data().isDone}))}catch(r){throw console.error("Error fetching todos:",r),r}},RV=async r=>{try{const{task:e}=r,n=Do.currentUser;if(!n)throw new Error("User not authenticated");return{id:(await tV(If,{userId:n.uid,task:e,isDone:!1})).id,userId:n.uid,task:e,isDone:!1}}catch(e){throw console.error("Error creating todo:",e),e}},CV=async r=>{try{if(!Do.currentUser)throw new Error("User not authenticated");const n=Ng(If,r);return await eV(n),r}catch(e){throw console.error("Error deleting todo:",e),e}},IV=async r=>{try{const{id:e,isDone:n}=r;if(!Do.currentUser)throw new Error("User not authenticated");const o={...r,isDone:!n},u=Ng(If,r.id);return await J4(u,o),e}catch(e){throw console.error("Error updating todo:",e),e}},DV={items:[],loading:!1,error:null},Sh=ra("todos/fetch",bV),uw=ra("todos/create",RV),cw=ra("todos/delete",CV),hw=ra("todos/toggleStatusTodo",IV),OV=k0({name:"todos",initialState:DV,reducers:{},extraReducers:r=>{r.addCase(Sh.pending,e=>{e.loading=!0,e.error=null}).addCase(Sh.fulfilled,(e,n)=>{e.loading=!1,e.items=n.payload}).addCase(Sh.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message??"Failed to fetch todos"}).addCase(uw.fulfilled,(e,n)=>{e.items.push(n.payload)}).addCase(cw.fulfilled,(e,n)=>{e.items=e.items.filter(s=>s.id!==n.payload)}).addCase(hw.fulfilled,(e,n)=>{e.items=e.items.map(s=>s.id!==n.payload?s:{...s,isDone:!s.isDone})})}}),NV=OV.reducer;function MV(){const r=es(),[e,n]=K.useState(""),s=()=>{if(e.length<1)return;r(uw({task:e,userId:""})).finally(()=>n(""))};return ae.jsx("div",{className:"my-8 px-5 flex self-center",children:ae.jsxs("form",{className:"flex gap-5 flex-row ",children:[ae.jsx("input",{name:"task",type:"text",value:e,className:VV,onChange:o=>n(o.target.value),placeholder:"Enter your task here.."}),ae.jsx("div",{className:"w-40",children:ae.jsxs(Ks,{onClick:s,children:[ae.jsx(SV,{className:"mr-4 mt-1"}),"Add"]})})]})})}const VV=`
  block 
  w-full 
  rounded-md 
  bg-white 
  px-3 
  py-1.5 
  text-base 
  text-gray-900 
  outline-1 -outline-offset-1 
  outline-gray-300 
  placeholder:text-gray-400 
  focus:outline-2 
  focus:-outline-offset-2 
  focus:outline-indigo-600 
  sm:text-sm/6
`;function xV({item:r}){const e=es(),n=u=>{e(cw(u))},s=u=>{e(hw(u))},o=u=>u.isDone?ae.jsx(Ks,{variant:"secondary",onClick:()=>s(u),children:ae.jsx(AV,{})}):ae.jsx(Ks,{variant:"secondary",onClick:()=>s(u),children:ae.jsx(TV,{})});return ae.jsxs("div",{className:"flex my-3",children:[ae.jsx("div",{className:"w-20 sm:w-40 md:w-60 flex flex-col justify-center",children:ae.jsx("p",{className:r.isDone?kV:PV,children:r.task})}),ae.jsxs("div",{className:"flex flex-row gap-5",children:[ae.jsx(Ks,{variant:"danger",onClick:()=>n(r.id),children:ae.jsx(wV,{})}),o(r)]})]})}const PV=`
  text-sm/6 
  font-semibold 
  text-gray-900
`,kV=`
  text-sm/6 
  font-semibold 
  text-gray-500
  line-through
`;function LV(){const r=es(),{items:e,loading:n,error:s}=ef(u=>u.todos);K.useEffect(()=>{r(Sh())},[r]);const o=e.map(u=>ae.jsx("li",{children:ae.jsx(xV,{item:u})},u.id));return n?ae.jsx("p",{children:"Loading..."}):s?ae.jsxs("p",{children:["Error: ",s]}):ae.jsx("div",{className:"flex justify-center",children:ae.jsx("ul",{role:"list",className:"divide-y divide-gray-100",children:o})})}function s0(){return ae.jsxs("div",{className:"flex flex-col",children:[ae.jsx(dV,{}),ae.jsx(MV,{}),ae.jsx(LV,{})]})}function UV(){const r=es(),{isAuth:e}=ef(n=>n.auth);return K.useEffect(()=>{const n=cf(),s=yD(n,o=>{r(o?uV({uid:o.uid,email:o.email??""}):aw())});return()=>s()},[r]),ae.jsx(sR,{children:ae.jsxs(kb,{children:[ae.jsx(np,{path:"/",element:e?ae.jsx(s0,{}):ae.jsx(n0,{})}),ae.jsx(np,{path:"/login",element:e?ae.jsx(s0,{}):ae.jsx(n0,{})})]})})}const zV=dC({reducer:{todos:NV,auth:cV},middleware:r=>r({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})});K1.createRoot(document.getElementById("root")).render(ae.jsx(LR,{store:zV,children:ae.jsx(UV,{})}));
